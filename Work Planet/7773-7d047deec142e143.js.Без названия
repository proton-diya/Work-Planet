"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7773],{1034:(e,t,n)=>{n.d(t,{v:()=>s,w:()=>i});var r=n(79924),a=n(83782),o=n(66412);let l={config_v:0,oid:"",cond_s:"",config:(0,a.Y8)(o.d),segments:{}},s=(0,r.eU)(l),i=(0,r.eU)(l)},2796:(e,t,n)=>{n.d(t,{Ch:()=>l,Jm:()=>r,Xo:()=>s,aC:()=>a});let r="YandexFloorAdClosed",a=3e4,o=e=>({...e,ownerId:1463667}),l={desktop:o({params:{p1:"dfjtk",p2:"jiik"},platform:"desktop",type:"floorAd"}),touch:o({params:{p1:"dfjtj",p2:"jiij"},platform:"touch",type:"floorAd"})},s={floor_ad_banner:o({params:{p1:"dfjtl",p2:"jiil"}}),floor_ad_banner_scroll:o({params:{p1:"dhjtx",p2:"jlns"}}),apps_list:o({params:{p1:"dfjto",p2:"jiin"}}),app_card:o({params:{p1:"dfjtm",p2:"jiim"}}),new_app_card:o({params:{p1:"dhjuj",p2:"jlnt"}}),left_sidebar:o({params:{p1:"dfnoc",p2:"jirk"}}),right_sidebar:o({params:{p1:"dfjue",p2:"jiio"}}),interesting_apps_1:o({params:{p1:"dfjvx",p2:"jiiw"}}),interesting_apps_2:o({params:{p1:"dfjvy",p2:"jiix"}}),interesting_apps_3:o({params:{p1:"dfjvz",p2:"jiiy"}}),interesting_apps_4:o({params:{p1:"dfjwb",p2:"jiiz"}}),interesting_apps_5:o({params:{p1:"dfjwe",p2:"jija"}}),interesting_apps_6:o({params:{p1:"dfjwo",p2:"jijc"}}),interesting_apps_7:o({params:{p1:"dfnob",p2:"jirj"}}),interesting_games_1:o({params:{p1:"dfjwq",p2:"jijd"}}),interesting_games_2:o({params:{p1:"dfjwr",p2:"jije"}}),interesting_games_3:o({params:{p1:"dfjwt",p2:"jijf"}}),interesting_games_4:o({params:{p1:"dfjwu",p2:"jijg"}}),interesting_games_5:o({params:{p1:"dfjwx",p2:"jijh"}}),interesting_games_6:o({params:{p1:"dfjwy",p2:"jijj"}}),interesting_games_7:o({params:{p1:"dfnoe",p2:"jirl"}}),search:o({params:{p1:"dhlnw",p2:"jlrm"}}),categories_desktop:o({params:{p1:"dhlrd",p2:"jlrw"}}),categories_mob:o({params:{p1:"dhlrg",p2:"jlrx"}}),inread_blog:o({params:{p1:"dhwee",p2:"jmjs"}}),instruction_step:o({params:{p1:"dfjvx",p2:"jiiw"}})}},3514:(e,t,n)=>{n.d(t,{RX:()=>r,lg:()=>o,y_:()=>a});let r=()=>{let{innerWidth:e}=window;return e<720?"mobile":e<1024?"tablet":"desktop"},a=async()=>n.e(4801).then(n.bind(n,14801)).then(e=>{var t,n,a;let{UAParser:o}=e,l=new o(navigator.userAgent);return{deviceType:l.getDevice()?l.getDevice().type||"desktop":r(),browserName:null===(t=l.getBrowser())||void 0===t?void 0:t.name,browserVersion:null===(n=l.getBrowser())||void 0===n?void 0:n.version,osName:null===(a=l.getOS())||void 0===a?void 0:a.name}}).catch(e=>(console.error(e),{deviceType:r()})),o=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent)},23889:(e,t,n)=>{n.d(t,{eD:()=>w,sl:()=>y,pK:()=>S});var r=n(84977),a=n(73478),o=n(13429),l=n(95093),s=n(3514),i=n(81739);let d=async(e,t,n)=>{let r="".concat(t,"/v1/send_custom_event_batch");if(n)try{let t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon(r,t);return}catch(e){console.warn("Failed to send beacon with stats",e)}fetch(r,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).catch(e=>{console.warn("Failed to send stats",e)})};var c=n(58930);let u=(e,t,n)=>({events:e.map(e=>{let{eventName:r,payload:a}=e;return{event_name:r,params:{...n,...a},user_id:t}})}),p=()=>{let{consumeAdFoxEvents:e,statsUrl:t,getUserVkId:n}=S(w.getFullState),r=(0,o.useRef)("");(0,o.useEffect)(()=>{r.current=i.A.getItem("sspUserId")||(0,c.A)()},[]);let a=(0,o.useRef)((0,c.A)()),p=(0,o.useRef)(null);(0,o.useEffect)(()=>{(0,s.y_)().then(e=>{p.current=e})},[]);let _=(0,o.useCallback)(()=>{var e;let t=p.current;return{user_id:r.current,session_id:a.current,vk_id:"".concat(n()),oid:(0,l.Ri)(l.a8)||"not_set",ip:(0,l.lm)()||"not_set",device_type:null!==(e=null==t?void 0:t.deviceType)&&void 0!==e?e:(0,s.RX)(),browser_type:[null==t?void 0:t.browserName,null==t?void 0:t.browserVersion].filter(Boolean).join(" ")||"unknown",device_os:(null==t?void 0:t.osName)||"unknown"}},[n]);return(0,o.useEffect)(()=>{let n=()=>{let n=e();n.length&&d(u(n,r.current,_()),t,!0)};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}},[t,e,_]),(0,o.useEffect)(()=>{let n=setInterval(()=>{let n=e();n.length&&d(u(n,r.current,_()),t)},5e3);return()=>{clearInterval(n)}},[t,e,_]),null};var _=n(8139),v=n(2241);function E(e){let{activeAdsTypes:t,scriptState:n,setScriptState:a,logTmrEvent:l,emitAdFoxEvent:s}=S(w.getFullState),i=(0,o.useCallback)(e=>{l({logEvent:e,params:{user_id:(0,v.l)(),platform:t[0]}})},[]),d=(0,o.useCallback)(e=>{let{attemptNumber:t,errorType:n}=e;s({eventName:"AdFoxLoaded",payload:{attempt_number:"".concat(t),has_error:"".concat(+!!n),...n&&{error_type:n}}})},[]);return(0,o.useEffect)(()=>{i("yan.script.mounted"),window.yaContextCb=window.yaContextCb||[],window.yaContextCb.push(()=>{i("yan.script.on_initialized")})},[]),(0,o.useEffect)(()=>{if("not_initialized"!==n)return;let e=0,t=setInterval(()=>{var t;e++,(null===(t=window.Ya)||void 0===t?void 0:t.adfoxCode)&&window.yaContextCb?(a("loaded"),d({attemptNumber:e})):e>=100&&(a("failed"),d({attemptNumber:e,errorType:"attempts_limit_exceeded"}))},100);return()=>{clearInterval(t)}},[n]),(0,r.jsx)(_.default,{id:"yandex-ads",src:"https://yandex.ru/ads/system/context.js",async:!0,onLoad:()=>{var t;i("yan.script.on_load"),null===(t=e.onLoad)||void 0===t||t.call(e)},onError:()=>{var t;i("yan.script.on_error"),d({attemptNumber:0,errorType:"script_blocked"}),a("failed"),null===(t=e.onError)||void 0===t||t.call(e)}})}let f=()=>{let e=S(w.getActiveAdTypes);return 0===e.length?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{}),e.includes("adfox")&&(0,r.jsx)(p,{})]})},A=()=>{},{Context:m,useContextValueSelector:g,useCreateContextValue:b}=(0,a.E)({logTmrEvent:A,emitYmEvent:A,activeAdsTypes:[],addActiveAdsType:A,scriptState:"not_initialized",setScriptState:A,statsUrl:"",emitAdFoxEvent:A,consumeAdFoxEvents:()=>[],getActiveAppPackageName:()=>null,getUserVkId:()=>-1}),y=e=>{let{logTmrEvent:t,emitYmEvent:n,getActiveAppPackageName:a,getUserVkId:l,statsUrl:s,children:i}=e,d=(0,o.useRef)([]),c=b({logTmrEvent:t,emitYmEvent:n,activeAdsTypes:[],addActiveAdsType:e=>{let t=c.getState();!t.activeAdsTypes.includes(e)&&c.replaceState({...t,activeAdsTypes:[...t.activeAdsTypes,e]})},scriptState:"not_initialized",setScriptState:e=>{c.replaceState({...c.getState(),scriptState:e})},statsUrl:s,emitAdFoxEvent:(0,o.useCallback)(e=>{d.current.push(e)},[]),consumeAdFoxEvents:(0,o.useCallback)(()=>{let e=[...d.current];return d.current=[],e},[]),getActiveAppPackageName:a||(()=>null),getUserVkId:l||(()=>-1)});return(0,r.jsxs)(m.Provider,{value:c,children:[i,(0,r.jsx)(f,{})]})},S=g,w={getFullState:e=>e,getScriptState:e=>e.scriptState,getActiveAdTypes:e=>e.activeAdsTypes,getEmitAdFoxEvent:e=>e.emitAdFoxEvent}},26312:(e,t,n)=>{n.d(t,{DZ:()=>l,G4:()=>o,Pd:()=>a});var r=n(13429);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,[a,o]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let t=e.current;if(!window.IntersectionObserver||!t)return;let r=new IntersectionObserver(e=>{let[t]=e;return o(t.isIntersecting)},n);return r.observe(t),()=>{r.disconnect()}},[n,e]),a},o=e=>{let{ref:t,intersectionThreshold:n,callback:a}=e;(0,r.useEffect)(()=>{let e=t.current;if(!window.IntersectionObserver||!e)return;let r=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&(a(),r.disconnect())},{threshold:n});return r.observe(e),()=>{r.disconnect()}},[a,n,t])},l=e=>{let{elementId:t,initialState:n=!1,options:a,enabled:o=!0}=e,[l,s]=(0,r.useState)(n);return(0,r.useEffect)(()=>{if(!o)return;let e=document.getElementById(t);if(!window.IntersectionObserver||!e)return;let n=new IntersectionObserver(e=>{let[t]=e;return s(t.isIntersecting)},a);return n.observe(e),()=>{n.disconnect()}},[a,t,o]),l}},27911:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(13429),a=n(23889);let o=e=>e.addActiveAdsType,l=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,a.pK)(o),l=(0,a.pK)(a.eD.getScriptState);return(0,r.useEffect)(()=>{t&&n(e)},[e,t,n]),l}},30601:(e,t,n)=>{n.d(t,{C:()=>d});var r=n(62942),a=n(13429),o=n(26312),l=n(64591),s=n(54498),i=n(23889);let d=e=>{let{containerId:t,isFloorAd:n=!1,enabled:d=!0,code:c,config:u}=e,p=d&&!!u&&u.triggers.length>0,_=(0,i.pK)(i.eD.getEmitAdFoxEvent),v=(0,a.useRef)(0),E=(0,a.useCallback)(e=>{var n;(null===(n=window.Ya)||void 0===n?void 0:n.adfoxCode)&&(window.Ya.adfoxCode.reload(t),_({eventName:"AdFoxRefreshList",payload:{refresh_number:"".concat(v.current),refresh_trigger:e,...(0,s.N)({containerId:t,code:"ownerId"in c?c:c[window.Ya.adfoxCode.getPlatform()]})}}),v.current++)},[t,_,c]),f=(0,a.useCallback)(e=>{(null==u?void 0:u.logging)&&console.log("AdFox autorefresh ".concat(t,": ").concat(e))},[u,t]),[A,m]=(0,a.useState)(!1),g=(0,o.DZ)({elementId:t,initialState:!1,enabled:p&&!n}),b=n||g,y=(0,a.useRef)(!1);(0,a.useEffect)(()=>{y.current=b&&A,f("change: isVisible=".concat(b,", isAdLive=").concat(A))},[b,A,f]);let S=p&&n&&u.triggers.includes("navigation"),w=(0,r.usePathname)();(0,a.useEffect)(()=>{S&&(A?(f("requesting on pathname change"),E("navigation")):f("skipping on pathname change, ad is not live"))},[w]);let h=p&&u.triggers.includes("window_focus"),N=(0,l.k)((0,a.useCallback)(()=>{h&&(y.current?(f("requesting on window focus"),E("window_focus")):f("skipping on window focus, not visible or not live"))},[h])),R=p&&A&&N&&u.triggers.includes("timer")&&u.intervalMs>0;return(0,a.useEffect)(()=>{if(!R)return;f("scheduling timer");let e=setInterval(()=>{y.current?(f("requesting on timer"),E("timer")):f("skipping on timer - not visible")},u.intervalMs);return()=>{f("cleaning up timer"),clearInterval(e)}},[R,u,f,E]),{callbacksFactory:(0,a.useCallback)(()=>({onLoad:()=>m(!0),onRender:()=>m(!0),onClose:()=>m(!1),onError:()=>m(!1)}),[]),getRefreshNumber:(0,a.useCallback)(()=>v.current,[])}}},51795:(e,t,n)=>{n.d(t,{y:()=>r});let r=(e,t)=>(e.addEventListener("click",t,{capture:!0,passive:!0}),()=>e.removeEventListener("click",t))},54498:(e,t,n)=>{n.d(t,{N:()=>r});let r=e=>{let{containerId:t,code:n}=e;return{container_id:t,creative_id:[n.params.p1,n.params.p2].join("_")}}},64591:(e,t,n)=>{n.d(t,{k:()=>a});var r=n(13429);let a=e=>{let[t,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{n(document.hasFocus());let t=()=>{n(!0),e()},r=()=>n(!1);return window.addEventListener("focus",t),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",r)}},[e]),t}},66412:(e,t,n)=>{n.d(t,{d:()=>u});let r=["selection_with_app_cards","top_apps","selection_with_app_list","selection_cards","articles","events"],a=["static","animated"];var o=n(83782);let l=e=>!!e&&"object"==typeof e&&"min"in e&&"text"in e,s={is:e=>"boolean"==typeof e||!!Array.isArray(e)&&e.every(l),fallback:!1},i=e=>"string"==typeof e&&r.includes(e),d={clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0},c={is:e=>!!(0,o.jh)(e)&&"boolean"==typeof e.enabled&&(!1===e.enabled||"number"==typeof e.showAfterMillis&&"boolean"==typeof e.showAfterScroll),fallback:{enabled:!1}},u={WEB_TECHNICAL_WORKS:{value:(0,o.pW)()},WEB_AUTO_DOWNLOAD:{value:(0,o.pW)()},RULES_FOR_DOWNLOADS_COUNT_GAMES:{value:s},RULES_FOR_DOWNLOADS_COUNT_APPS:{value:s},WEB_SIMILAR_APPS_DISCLAIMER:{value:(0,o.pW)()},WEB_SEARCH_EXPS:{value:(0,o.AA)()},WEB_YANDEX_AD_MODE:{value:(0,o.XR)("none",["none","banner","floor_ad","floor_ad_closed","floor_ad_banner","floor_ad_banner_scroll","floor_ad_closed_copy"])},WEB_AUTO_LOGIN:{value:(0,o.XR)("none",["none","snackbar","headerAvatar"])},WEB_ENABLE_SELECTIONS_STRAPI:{value:(0,o.pW)()},WEB_SSP_AD_MODE:{value:(0,o.XR)("none",["none","ssp_floor_ad","ssp_floor_ad_closed"])},WEB_SSP_AD_PARTNER:{value:(0,o.XR)("none",["none","ssp_floor_ad_partner"])},WEB_SSP_AD_WITH_AUTH:{value:(0,o.pW)()},SSP_BANNER_REFRESH:{value:(0,o.Op)()},WEB_YANDEX_AD_RIGHT_SIDEBAR_ENABLED:{value:(0,o.pW)()},WEB_YANDEX_AD_APPS_LIST_ENABLED:{value:(0,o.pW)()},YANDEX_AD_NEW_APP_CARD_ENABLED:{value:(0,o.pW)()},WEB_GAME_MARKINGS_ENABLED:{value:(0,o.pW)()},WEB_ENABLE_HIDDEN_EXCEPTIONS:{value:(0,o.pW)()},WEB_ENABLE_LABELS_AND_SEO_TAGS:{value:(0,o.pW)()},WEB_ENABLE_NEW_DEEPLINK:{value:(0,o.pW)()},WEB_ENABLE_NEW_SCHEME_DEEPLINK:{value:(0,o.pW)()},WEB_ENABLE_REDIRECT_FROM_APPCARD:{value:(0,o.pW)()},WEB_SELECTIONS_ON_MAIN_BLOCK_ORDER:{value:{is:e=>"object"==typeof e&&"MAIN"in e&&"GAMES"in e&&Array.isArray(e.MAIN)&&e.MAIN.every(i)&&Array.isArray(e.GAMES)&&e.GAMES.every(i),fallback:{MAIN:["selection_with_app_cards","top_apps","selection_cards","selection_with_app_list","articles"],GAMES:["selection_with_app_cards","top_apps","selection_cards","selection_with_app_list","articles"]}}},WEB_SHOW_VIDEO_IN_APP_SCREENSHOTS:{value:(0,o.pW)()},WEB_YANDEX_PLACEMENTS_APPS:{value:(0,o.is)()},WEB_YANDEX_PLACEMENTS_GAMES:{value:(0,o.is)()},ENABLE_LAZY_SCRIPTS:{value:(0,o.pW)()},ADFOX_CONFIG:{value:o.hF},ENABLE_KIOSK_PAGE:{value:(0,o.pW)()},ENABLE_TV_APP_PAGE:{value:(0,o.pW)()},ENABLE_NEW_OVERALL_INFO_API:{value:(0,o.pW)()},ENABLE_FILTERS:{value:(0,o.pW)()},ENABLE_INAPPSTORY:{value:(0,o.pW)()},ENABLE_APP_ARTICLES:{value:(0,o.pW)()},ENABLE_EVENTS_IN_APP:{value:(0,o.pW)()},ENABLE_APP_GRADIENT:{value:(0,o.pW)()},ENABLE_APP_LABEL_IN_APPS_LIST:{value:(0,o.pW)()},ENABLE_SUGGEST_ADS:{value:(0,o.XR)("",["banner","sticker","all"])},ENABLE_APPS_LIST_FROM_WEB_GATEWAY:{value:(0,o.pW)()},ENABLE_DEVELOPER_APPS_FROM_WEB_GATEWAY:{value:(0,o.pW)()},ENABLE_LLM_REVIEWS:{value:(0,o.pW)()},CATEGORIES_WITH_HIDDEN_FILTERS:{value:(0,o.zq)({fallback:{}})},INP_REPORTING_THRESHOLD_MS:{value:(0,o.WZ)(0)},METADATA_OVERRIDES_LOAD_MODE:{value:(0,o.XR)("none",["none","per_page","batch"])},YANDEX_METRIKA_FEATURES:{value:{is:e=>!!(0,o.jh)(e)&&Object.keys(d).every(t=>t in e&&"boolean"==typeof e[t]),fallback:d}},TRENDS_IN_SEARCH_AMOUNT:{value:(0,o.WZ)(0)},EXCLUDED_HEADER_LINK_TITLES:{value:(0,o._e)([],e=>"string"==typeof e)},ENABLE_VERSIONS_FROM_WEB_GATEWAY:{value:(0,o.pW)()},ENABLE_NEW_DOWNLOADS_COUNT:{value:(0,o.pW)()},ENABLE_STORE_APP_REQUEST_FROM_WEB_GATEWAY:{value:(0,o.pW)()},ENGAGEMENT_POPUP_CONFIG:{value:{is:e=>c.is(e)&&(!e.enabled||"variant"in e&&"string"==typeof e.variant&&a.includes(e.variant)),fallback:{enabled:!1}}},APP_EVENT_POPUP_CONFIG:{value:c},ENABLE_MANUAL_MODERATION_TAG:{value:(0,o.pW)()},ENABLE_APP_PERMISSIONS:{value:(0,o.pW)()},ENABLE_FOOTER_MODALS:{value:(0,o.pW)()}}},68609:(e,t,n)=>{n.d(t,{T:()=>N});var r=n(84977),a=n(13429),o=n(26312),l=n(64591),s=n(2796),i=n(74535);let d=(e,t)=>["yan",e,t,(0,a.useId)()].filter(Boolean).join("_").replace(":","");var c=n(27911),u=n(89173),p=n(97488),_=n(87495),v=n(30601),E=n(62942),f=n(23889),A=n(54498);let m=e=>{let{containerId:t,code:n}=e,r=(0,f.pK)(f.eD.getEmitAdFoxEvent),o=(0,E.usePathname)(),l=(0,a.useRef)(o);(0,a.useEffect)(()=>{l.current=o},[o]),(0,a.useEffect)(()=>{let e=document.getElementById(t);if(!e)return;let a=[],o=!1,s=!1,i=()=>{var e;r({eventName:"AvailabilityDivForAds",payload:{...(0,A.N)({containerId:t,code:n}),was_visible:"".concat(+o),was_filled:"".concat(+s),pathname:null!==(e=l.current)&&void 0!==e?e:""}})};if(window.addEventListener("beforeunload",i),a.push(()=>window.removeEventListener("beforeunload",i)),window.IntersectionObserver){let t=new IntersectionObserver(e=>{let[n]=e;n.isIntersecting&&(o=!0,t.disconnect())});t.observe(e),a.push(()=>t.disconnect())}if(window.MutationObserver){let t=new MutationObserver(()=>{s=!0,t.disconnect()});t.observe(e,{childList:!0}),a.push(()=>t.disconnect())}return()=>{a.forEach(e=>e()),i()}},[t,n,r])};var g=n(91884),b=n(84104);let y=e=>{let{adType:t,placement:n,position:o,onRender:l,onError:i,onNoAds:u,bannerContainerClassName:p,adFoxConfig:E}=e,f="loaded"===(0,c.v)("adfox"),A=s.Xo[n],y=d(n,o);m({containerId:y,code:A});let S=(0,_.s)({adType:t,position:o}),{callbacksFactory:w,getRefreshNumber:h}=(0,v.C)({containerId:y,isFloorAd:"floor_ad_banner"===n,code:A,config:null==E?void 0:E.autorefresh,enabled:null==E?void 0:E.enabled}),N=(0,g.J)({getRefreshNumber:h});return(0,a.useEffect)(()=>{var e;if(!f)return;let{callbacks:t,cleanup:n}=(0,b.X)({containerId:y,code:A,factories:[S,N,w],callback:{onRender:l,onError:i,onStub:u}});return null===(e=window.yaContextCb)||void 0===e||e.push(()=>{var e,n;null===(n=window.Ya)||void 0===n||null===(e=n.adfoxCode)||void 0===e||e.create({...A,containerId:y,...E.lazyLoad&&{lazyLoad:E.lazyLoad},...t})}),n},[f]),(0,r.jsx)("div",{id:y,className:p})},S={threshold:.5},w=e=>{let{id:t,className:n,onClick:l,onVisibilityChange:s}=e,i=(0,a.useRef)(null),d=(0,o.Pd)(i,!1,S);return(0,a.useEffect)(()=>{s(d)},[d,s]),(0,a.useEffect)(()=>{let e=i.current;if(e)return(0,p.yn)(e,()=>{(0,p.Rm)("click"),l()})},[l]),(0,r.jsx)("div",{ref:i,id:t,className:n})},h=e=>{let{bannerContainerClassName:t,blockId:n,adType:o,onError:_,onNoAds:v,position:E,placement:f}=e,A=(0,c.v)("yandex"),m=d(f,E),[g,b]=(0,a.useState)(!0),y=(0,i.t)({platform:"yandex",adType:o}),S=g&&!!n,h=(0,a.useRef)(!1),[N,R]=(0,a.useState)(!1),O=(0,a.useRef)(!1),[I,L]=(0,a.useState)(!1),j=(0,a.useRef)(!1),C=(0,a.useRef)(null);(0,a.useEffect)(()=>{"failed"===A&&(y.blocked(n,E),_&&_())},[A]);let P=(0,a.useCallback)(e=>{if(n){if(C.current&&Date.now()-C.current<s.aC/4){(0,p.Rm)("".concat(m," skipping ad refresh since it was recently"));return}C.current=Date.now(),(0,p.Rm)("initializing ad ".concat(m)),window.yaContextCb=window.yaContextCb||[],window.yaContextCb.push(()=>{e&&y.requested(n,E),(0,p.PO)().render({blockId:n,renderTo:m,onRender:e=>{(0,p.Rm)("rendered",e),R(!0),b(!0),h.current||(y.gotResponse(n,E,{AdResponse:u.f.HAS_ADS}),h.current=!0,y.rendered(n,E),O.current&&!j.current&&(j.current=!0,y.shown(n,E)))},onError:e=>{(0,p.Rm)("error",e),b(!1),_&&_()},onClose:()=>{(0,p.Rm)("closed"),y.closed(n,E)}},()=>{(0,p.Rm)("fallback called"),y.gotResponse(n,E,{AdResponse:u.f.NO_ADS}),y.nothingToShow(n,E),b(!1),v&&v()})})}},[y,n,m,_,v]);(0,a.useEffect)(()=>{P(!0)},[]);let k=(0,l.k)((0,a.useCallback)(()=>{h.current&&O.current&&((0,p.Rm)("".concat(m," refreshing ad on window focus")),P(!1))},[m,P]));(0,a.useEffect)(()=>{if(!N||!I||!k)return;(0,p.Rm)("".concat(m," scheduling refreshing timer"));let e=setInterval(()=>{(0,p.Rm)("".concat(m," refreshing ad on timer")),P(!1)},s.aC);return()=>{clearInterval(e)}},[N,I,k,m,P]);let T=(0,a.useCallback)(()=>{y.clicked(n,E)},[y,n]),W=(0,a.useCallback)(e=>{L(e),O.current=e,h.current&&e&&!j.current&&(j.current=!0,y.shown(n,E))},[y,n]);return S?(0,r.jsx)(w,{"data-testid":m,id:m,className:t,onClick:T,onVisibilityChange:W}):null},N=e=>{let t=s.Xo[e.placement];if(e.adFoxConfig.enabled){if(t)return(0,r.jsx)(y,{...e});console.warn("No AdFox config for placement ".concat(e.placement,", falling back to YAN"))}return(0,r.jsx)(h,{...e})}},73478:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(13429);let a=e=>{let t=(0,r.createContext)({subscribe:()=>()=>{},replaceState:()=>{},getState:()=>e});return{Context:t,useCreateContextValue:e=>(0,r.useMemo)(()=>{let t=e,n=new Set;return{getState:()=>t,replaceState:e=>{t=e,n.forEach(e=>e())},subscribe:e=>(n.add(e),()=>n.delete(e))}},[]),useContextValueSelector:e=>{let{subscribe:n,getState:a}=(0,r.useContext)(t),o=(0,r.useCallback)(()=>e(a()),[e,a]);return(0,r.useSyncExternalStore)(n,o,o)}}}},74535:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(13429),a=n(23889);let o=e=>{let{platform:t,adType:n}=e,{logTmrEvent:o,getActiveAppPackageName:l,getUserVkId:s,emitYmEvent:i}=(0,a.pK)(a.eD.getFullState);return(0,r.useMemo)(()=>{let e;let r=(e,r,a,d)=>{let{tmr:c,ym:u}=e;o({logEvent:c,params:{...d,platform:t,adType:n,position:a,slot_id:r,screen_app_id:l(),pageURL:document.location.href.split("?")[0],vk_id:s()}}),u&&i({eventName:u})},a=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(e,t,n,void 0)};return{requested:a({tmr:"AdRequest"}),gotResponse:(e={tmr:"AdResponse"},function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return r(e,t,n,a)}),blocked:a({tmr:"AdRequest.blocked"}),rendered:a({tmr:"renderAdBanner"}),shown:a({tmr:"appPage.showAd",ym:"showAd"}),clicked:a({tmr:"appPage.clickAd",ym:"clickAd"}),clickedOptions:a({tmr:"appPage.clickAdChoices"}),closed:a({tmr:"appPage.closeAd"}),nothingToShow:a({tmr:"appPage.NoAd"})}},[t,n,l,s,i,o])}},77837:(e,t,n)=>{n.d(t,{_:()=>o,z:()=>l});var r=n(60844),a=n(1034);let o=e=>(0,r.useAtomValue)(a.w).config[e],l=e=>(0,r.useAtomValue)(a.v).config[e]},83782:(e,t,n)=>{n.d(t,{hF:()=>A,_e:()=>d,pW:()=>l,Op:()=>_,Y8:()=>r,WZ:()=>s,AA:()=>i,zq:()=>v,is:()=>p,XR:()=>c,jh:()=>u});let r=e=>a(e,{}),a=(e,t)=>Object.entries(e).reduce((e,n)=>{let[r,{value:a}]=n,o=t[r];return e[r]=a.is(o)?o:a.fallback,e},{});var o=n(89173);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{is:e=>"boolean"==typeof e,fallback:e}},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{is:e=>"number"==typeof e,fallback:e}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{is:e=>"string"==typeof e,fallback:e}},d=(e,t)=>({is:e=>!!Array.isArray(e)&&e.every(t),fallback:e}),c=(e,t)=>({is:e=>"string"==typeof e&&t.includes(e),fallback:e}),u=e=>!("object"!=typeof e||Array.isArray(e))&&!(Object.getOwnPropertySymbols(e).length>0),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{is:e=>!!u(e)&&Object.getOwnPropertyNames(e).every(t=>"string"==typeof e[t]),fallback:e}},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{is:e=>!!u(e)&&Object.getOwnPropertyNames(e).every(t=>"number"==typeof e[t]||"boolean"==typeof e[t]),fallback:e}},v=e=>{let{fallback:t,checkKey:n=e=>"string"==typeof e,checkValue:r=e=>"string"==typeof e}=e;return{is:e=>{if(!u(e))return!1;for(let[t,a]of Object.entries(e))if(!n(t)||!Array.isArray(a)||!a.every(r))return!1;return!0},fallback:t}},E=e=>"boolean"==typeof e||!!e&&"object"==typeof e&&"fetchMargin"in e&&"number"==typeof e.fetchMargin&&(!("mobileScaling"in e)||"number"==typeof e.mobileScaling),f=e=>!!e&&"object"==typeof e&&"intervalMs"in e&&"number"==typeof e.intervalMs&&"triggers"in e&&Array.isArray(e.triggers)&&e.triggers.every(e=>o.E.includes(e)),A={is:e=>"object"==typeof e&&"enabled"in e&&"boolean"==typeof e.enabled&&(!("lazyLoad"in e)||!!E(e.lazyLoad))&&(!("autorefresh"in e)||!!f(e.autorefresh))&&(!("statSendingIntervalMs"in e)||"number"==typeof e.statSendingIntervalMs),fallback:{enabled:!1}}},84104:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(51795);let a=e=>{let{containerId:t,code:n,factories:a,callback:o={}}=e,l=[],s=[...a.map(e=>e({containerId:t,code:n,cleanupCallbacks:l})),o],i=e=>{let n=e.stickyAdNode||document.getElementById(t);n&&l.push((0,r.y)(n,()=>{s.forEach(e=>{let{onClick:t}=e;return null==t?void 0:t()})}))};return{callbacks:{onClose:()=>{s.forEach(e=>{let{onClose:t}=e;return null==t?void 0:t()})},onError:e=>{s.forEach(t=>{let{onError:n}=t;return null==n?void 0:n(e)})},onLoad:e=>{s.forEach(t=>{let{onLoad:n}=t;return null==n?void 0:n(e)})},onRender:e=>{i(e),s.forEach(t=>{let{onRender:n}=t;return null==n?void 0:n(e)})},onStub:()=>{s.forEach(e=>{let{onStub:t}=e;return null==t?void 0:t()})}},cleanup:()=>{l.forEach(e=>e())}}}},87495:(e,t,n)=>{n.d(t,{s:()=>d});var r=n(13429),a=n(89173),o=n(92119),l=n(23889),s=n(74535);let i="not_set",d=e=>{let{adType:t,position:n}=e,d=(0,s.t)({platform:"adfox",adType:t}),c=(0,l.pK)(l.eD.getScriptState);return(0,r.useEffect)(()=>{"failed"===c&&d.blocked(i,n)},[d,c,n]),(0,r.useCallback)(e=>{let{containerId:t,cleanupCallbacks:r}=e;d.requested(i,n);let l=e=>{if(e.stickyAdNode){d.shown(i,n);return}let a=document.getElementById(t);if(!window.IntersectionObserver||!a)return;let o=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&(d.shown(i,n),o.disconnect())},{threshold:.5});o.observe(a),r.push(()=>o.disconnect())};return{onClose:()=>{d.closed(i,n)},onError:()=>{d.blocked(i,n)},onLoad:(0,o.O)(()=>{d.gotResponse(i,n,{AdResponse:a.f.HAS_ADS})}),onRender:(0,o.O)(e=>{d.rendered(i,n),l(e)}),onStub:(0,o.O)(()=>{d.nothingToShow(i,n),d.gotResponse(i,n,{AdResponse:a.f.NO_ADS})}),onClick:()=>{d.clicked(i,n)}}},[d,n])}},89173:(e,t,n)=>{n.d(t,{E:()=>r,f:()=>a});let r=["timer","window_focus","navigation"];var a=function(e){return e.HAS_ADS="1",e.NO_ADS="2",e}({})},91884:(e,t,n)=>{n.d(t,{J:()=>c});var r=n(13429),a=n(54498),o=n(92119);let l=[{type:"visible",secondsOnScreen:0,visibilityThreshold:.01},{type:"mrc",secondsOnScreen:1,visibilityThreshold:.5},{type:"ims",secondsOnScreen:2,visibilityThreshold:.5}],s=(e,t,n)=>{let{type:r,secondsOnScreen:a,visibilityThreshold:o}=t,l=null,s=new IntersectionObserver(e=>{let[t]=e;if(!t.isIntersecting){l&&clearTimeout(l);return}if(!a){n(r),s.disconnect();return}l=setTimeout(()=>{n(r),s.disconnect()},1e3*a)},{threshold:o});return s.observe(e),()=>{s.disconnect(),l&&clearTimeout(l)}},i=(e,t)=>l.map(n=>s(e,n,t));var d=n(23889);let c=e=>{let{getRefreshNumber:t}=e,n=(0,d.pK)(d.eD.getEmitAdFoxEvent);return(0,r.useCallback)(e=>{let{code:r,containerId:l,cleanupCallbacks:s}=e,d=(e,t)=>n({eventName:e,payload:{...(0,a.N)({containerId:l,code:r}),...t}}),c=(0,o.O)(e=>{let t=e.stickyAdNode||document.getElementById(l);t&&window.IntersectionObserver&&s.push(...i(t,e=>d("AdFoxImpEvent",{imp_type:e})))}),u=(0,o.O)(()=>{d("AdFoxSessionWithAds")});return{onLoad:e=>{var n,r,a;u(),d("AdFoxOnLoad"),d("AdResponseBids",{refresh_number:"".concat(t()),bid:(null==e?void 0:null===(a=e.bundleParams)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:null===(n=r.impressionData)||void 0===n?void 0:n.revenue)||""})},onRender:e=>{d("AdFoxOnRender"),c(e)},onClose:()=>{d("AdFoxOnClose")},onError:()=>{d("AdFoxOnError")},onStub:()=>{d("AdFoxOnStub")},onClick:()=>{d("AdFoxOnClick")}}},[n,t])}},92119:(e,t,n)=>{n.d(t,{O:()=>r});let r=e=>{let t=!1;return n=>{t||(t=!0,e(n))}}},97488:(e,t,n)=>{n.d(t,{yn:()=>l.y,wR:()=>r,PO:()=>o,Rm:()=>a});let r={remove:()=>{let e=document.querySelector("body");e&&e.style.setProperty("--footer-extra-bottom-padding","0px")},add:e=>{let t=document.querySelector("body");t&&t.style.setProperty("--footer-extra-bottom-padding","".concat(e||0,"px"))}},a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("Yandex AD ".concat(e),...n)},o=()=>window.Ya.Context.AdvManager;var l=n(51795)}}]);
//# sourceMappingURL=7773-7d047deec142e143.js.map