(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7014],{1798:e=>{e.exports={container:"jBHxW_Aa",loader:"hBMMJBO7"}},5966:(e,t,a)=>{"use strict";a.d(t,{y:()=>r,t:()=>s});let r={landing:"/api/submit_form","dev-landing":"/developer/api/submit_form",catalog:"/catalog/api/submit_form",kiosk:"/kiosk/api/submit_form"},s={landing:"/api/upload","dev-landing":"/developer/api/upload",catalog:"/catalog/api/upload",kiosk:"/kiosk/api/upload"}},7124:e=>{e.exports={button:"f3NGYxNt"}},7995:(e,t,a)=>{"use strict";a.d(t,{RustoreOpen:()=>p});var r=a(84977),s=a(36682),l=a(62854),n=a(36744),i=a(91039),o=a(13429),c=a(80527),d=a(62471),u=a.n(d);let m=(0,i.default)((0,n.O)(async()=>Promise.all([a.e(9813),a.e(8546)]).then(a.bind(a,53688))),{loadableGenerated:{webpack:()=>[53688]},ssr:!1}),p=e=>{let{logTmrEvent:t}=e,[a,n]=(0,o.useState)(!1),i=(0,o.useCallback)(()=>{t("button.click",{button_text:"Предложить приложение"}),n(e=>!e)},[]);return(0,c.o)("Escape",i,a),(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(m,{setShowModal:i}),(0,r.jsx)("button",{className:(0,l.A)(u().link),rel:"noopener noreferrer",onClick:i,"data-testid":s.R.rustoreOpenShowModalButton,children:"Предложить приложение"})]})}},8326:e=>{e.exports={sections:"bFPY1anW",lowLinks:"YZkCxF_1",section:"E1vCwlHB",title:"_59V48MQ9",list:"pJ1oYaRx",listItem:"_6UcHnxdV"}},9827:e=>{e.exports={container:"BP0hJqEg",avatar:"PCETrn0g",user:"tLaZRbyn",name:"LvpAy17R",id:"_H2gwkqQ"}},10252:(e,t,a)=>{"use strict";a.d(t,{a:()=>n,g:()=>l});var r=a(79924),s=a(60844);let l=(0,r.eU)(),n=()=>(0,s.useAtomValue)(l)},10452:(e,t,a)=>{"use strict";async function r(e,t,a,r){try{let s=await fetch(e,{method:"POST",redirect:"manual",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,nextUrl:a,locale:r})});return{result:s.ok?"success":"error",errorDetail:"opaqueredirect"===s.type?302:s.status}}catch(e){return{result:"error",errorDetail:e}}}a.d(t,{a:()=>r})},11798:e=>{e.exports={link:"_8EccvKLr"}},19049:(e,t,a)=>{"use strict";a.d(t,{k:()=>n});var r=a(55015),s=a(12918),l=a(27060);let n=()=>{let e=(0,r.e)(),t=(null==e?void 0:e.category)||"";return{logAppsTopClick:()=>{(0,s.wz)({logEvent:"appsTop.click",params:{app_category_name:t}}),l.b.logAppsClick()},logGamesTopClick:()=>{(0,s.wz)({logEvent:"gamesTop.click",params:{app_category_name:t}}),l.b.logGamesClick()},logDevTopClick:()=>{(0,s.wz)({logEvent:"devTop.click",params:{app_category_name:t}}),l.b.logDevClick()},logSupportTopClick:()=>{(0,s.wz)({logEvent:"supportTop.click",params:{app_category_name:t}}),l.b.logSupportClick()},logDownloadRustoreTopClick:()=>{(0,s.wz)({logEvent:"downloadRustoreTop.click",params:{app_category_name:t}}),l.b.logDownloadRustoreClick()}}}},19134:(e,t,a)=>{"use strict";a.d(t,{bZ:()=>n,dp:()=>i,ei:()=>l,rr:()=>o,yH:()=>s,zT:()=>c});var r=a(12918);let s=()=>{(0,r.wz)({logEvent:"authorizationDone",params:{authorization_source:"vk_id",autologin:"true"}}),(0,r.K0)({eventName:"authorizationDone"})},l=e=>{(0,r.wz)({logEvent:"authorization.AutologinError",params:{error_type:e}}),(0,r.K0)({eventName:"authorization_AutologinError"})},n=()=>{(0,r.wz)({logEvent:"authorizationBanner.show"}),(0,r.K0)({eventName:"authorizationBanner_show"})},i=()=>{(0,r.wz)({logEvent:"authorizationBanner.userAgreement.click"})},o=()=>{(0,r.wz)({logEvent:"header.click",params:{button_text:"profile_icon"}})},c=()=>{(0,r.wz)({logEvent:"menu.profileIcon.click"})}},19273:e=>{e.exports={container:"i1bMTTEs",fadeIn:"kW_GG25T",tooltip:"Jp_fiVGm",name:"UcnxbDQ4",id:"BOo__8u3"}},21309:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(62942);let s=()=>{let e=(0,r.usePathname)();return(null==e?void 0:e.includes("/games"))||!1}},22539:(e,t,a)=>{"use strict";a.d(t,{Sections:()=>_});var r=a(84977),s=a(62854),l=a(13429);let n={src:"/catalog/_next/static/media/ChevronDown.47839c9f.svg"},i={src:"/catalog/_next/static/media/ChevronUp.935bb09f.svg"};var o=a(68361),c=a.n(o);let d=e=>{let{children:t,isMobileOnly:a,title:o,isOpenedDefault:d=!1,onClick:u,iconTestId:m,titleTestId:p,isUnlabeled:h}=e,[g,v]=(0,l.useState)(d);return(0,r.jsxs)("div",{className:c().accordion,children:[(0,r.jsxs)(h?"span":"h3",{className:c().title,onClick:()=>{null==u||u(),v(!g)},"data-testid":p,children:[o,(0,r.jsx)("img",{className:(0,s.A)({[c().mobileIcons]:a}),src:g?i.src:n.src,"data-testid":m,alt:g?"Закрыть список":"Раскрыть список",loading:"lazy",width:"24",height:"24"})]}),(0,r.jsx)("div",{className:(0,s.A)(c().children,{[c().hiddenMobileOnly]:!g&&a,[c().hidden]:!g&&!a}),children:t})]})};var u=a(34094),m=a(11798),p=a.n(m);let h=()=>{try{return window.self!==window.top}catch(e){return!0}},g=e=>{let{link:{title:t,...a},onLinkClick:s,index:n}=e,[i,o]=(0,l.useState)(a.target);return(0,l.useEffect)(()=>{o(h()?"_blank":a.target)},[a.target]),(0,r.jsx)("a",{...a,"data-testid":u.B.link,onClick:()=>{null==s||s({title:t,href:a.href,index:n})},target:i,className:p().link,children:t})};var v=a(8326),x=a.n(v);let _=e=>{let{sections:t,onLinkClick:a,onSectionClick:l,isLowLinks:n,isUnlabeled:i}=e;return(0,r.jsx)("div",{className:(0,s.A)(x().sections,n&&x().lowLinks),children:t.map((e,t)=>{let{elements:s,title:n}=e;return(0,r.jsx)("div",{className:x().section,children:(0,r.jsx)(d,{iconTestId:u.B.sectionTitleIcon,titleTestId:u.B.sectionTitle,isMobileOnly:!0,isOpenedDefault:!t,onClick:()=>null==l?void 0:l({index:t,title:n}),title:(0,r.jsx)("div",{className:x().title,children:n}),isUnlabeled:i,children:(0,r.jsx)("ul",{className:x().list,children:s.map((e,t)=>(0,r.jsx)("li",{className:x().listItem,children:(0,r.jsx)(g,{link:e,onLinkClick:a,index:t})},t))})})},t)})})}},24386:e=>{e.exports={logoWrapper:"QsPM4owB",logo:"vi3vGtv_",afterLogo:"wVFIaVkt",showInMenu:"_70GIKZ0y"}},27060:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});var r=a(12918);let s={logAppsClick:()=>{(0,r.K0)({eventName:"header_menu_button_apps",params:{domain_311741675:"apps"}})},logGamesClick:()=>{(0,r.K0)({eventName:"header_menu_button_games",params:{domain_311741679:"apps"}})},logDevClick:()=>{(0,r.K0)({eventName:"header_menu_button_developers",params:{domain_311741763:"apps"}})},logSupportClick:()=>{(0,r.K0)({eventName:"header_menu_button_help",params:{domain_311741651:"apps"}})},logDownloadRustoreClick:()=>{(0,r.K0)({eventName:"header_menu_button_download",params:{domain_311741622:"apps"}})},logLogoClick:()=>{(0,r.K0)({eventName:"header_menu_button_logo",params:{domain_311741787:"apps"}})},logMenuOpenClick:()=>{(0,r.K0)({eventName:"header_menu_button",params:{domain_311741561:"apps"}})},logSearchBoxOpenClick:()=>{(0,r.K0)({eventName:"header_menu_button_search"})}}},29783:(e,t,a)=>{"use strict";a.d(t,{W:()=>l});var r=a(13429),s=a(87654);let l=()=>{let{logValidationResult:e}=(0,s.o)();return(0,r.useCallback)((t,a)=>{if(!t||"vk"!==t.provider)return;let r=t.source;a.error?e({placement:r,error:a.error,errorMessage:(0,s.f)(a.errorDetail)}):e({placement:r,error:!1})},[e])}},29942:e=>{e.exports={root:"clBzYJAu",animation:"fOyfVNQ_",header:"yuhFBG3_",container:"_3MHZgbS",title:"FjOqFC8O"}},31808:e=>{e.exports={root:"_cg8SB1_",description:"pVYzj7v6",button:"e23jyr8r"}},34094:(e,t,a)=>{"use strict";a.d(t,{B:()=>r});let r={footer:"footer_component",link:"footer_link",sectionTitle:"footer_sectionTitle",sectionTitleIcon:"footer_sectionIcon",footerQrCode:"footer_qrCode",footerSocialLink:"footer_socialLink",footerCopyright:"footer_copyright"}},34596:e=>{e.exports={search:"JlySlvdV",searchText:"RRe2Mzyx"}},35230:(e,t,a)=>{"use strict";a.d(t,{footerTmrEvent:()=>n,onFooterClick:()=>l,onSocialClick:()=>s});var r=a(12918);let s=e=>{var t;(0,r.wz)({logEvent:"footer.networkClick",params:{social_link:null!==(t=e.currentTarget.getAttribute("href"))&&void 0!==t?t:"",vk_id:-1}})},l=e=>{let{title:t}=e;(0,r.wz)({logEvent:"footer.click",params:{button_text:t,vk_id:-1}}),(0,r.K0)({eventName:"footer_click"})},n=(e,t)=>{(0,r.wz)({logEvent:e,params:t})}},36682:(e,t,a)=>{"use strict";a.d(t,{R:()=>r});let r={rustoreOpenModalSubmit:"rustore_open_modal_submit",rustoreOpenModalCloseButton:"rustore_open_modal_close_button",rustoreOpenModalMobileRadioButton:"rustore_open_mobile_radiobutton",rustoreOpenModalTvRadioButton:"rustore_open_tv_radiobutton",rustoreOpenShowModalButton:"rustore_open_show_button"}},36744:(e,t,a)=>{"use strict";a.d(t,{O:()=>l});let r=async(e,t)=>new Promise(a=>{if(navigator.onLine)setTimeout(a,e*t);else{let e=()=>{window.removeEventListener("online",e),a()};window.addEventListener("online",e)}}),s=async(e,t,a)=>{let{retriesLimit:l=5,minDelayMs:n=1e3,fallback:i}=t;try{return await e()}catch(o){if(a<l)return console.warn("Promise failed on ".concat(a," attempt, will retry"),o),r(n,a).then(()=>s(e,t,a+1));if(console.error("Promise failed completely after ".concat(a," attempts"),o),void 0!==i)return i;throw o}},l=(e,t)=>()=>s(e,t||{},1)},37908:e=>{e.exports={form:"IBISQ3MZ",submit:"_6WJmBLx7",errorText:"MlnOlU1F",formItem:"qkBEB_1A"}},41162:(e,t,a)=>{"use strict";a.d(t,{f:()=>i});var r=a(84977),s=a(36744),l=a(13429);let n=(0,l.lazy)((0,s.O)(async()=>Promise.all([a.e(2805),a.e(5550),a.e(51),a.e(9249),a.e(7261),a.e(3970),a.e(6567),a.e(1120),a.e(2317),a.e(2400),a.e(102),a.e(4338),a.e(2918),a.e(7773),a.e(8414)]).then(a.bind(a,4810)),{fallback:{default:()=>null}})),i=e=>e.isOpen?(0,r.jsx)(l.Suspense,{children:(0,r.jsx)(n,{...e})}):null},41605:e=>{e.exports={image:"nLoIj1AX"}},43676:e=>{e.exports={leftSide:"UToNr7QO",logo:"_0Y300_Jj",qrCode:"HlBl7P_T",qrCodeBlock:"SGTisj0p",qrCodeDescription:"hM8I3dcP",copyRight:"AI6c4U6j",socialLinks:"IbN0KYEt",copyRight__additionalMt:"WVlhJ0zD",socialLink:"_3b9pkKY8",socialLink__icon:"jxzWf48r",absoluteBlock:"GScJcVtU",bottomContent:"sfAsA2AQ",lowLinks:"fedozXrZ"}},50203:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(84977),s=a(62854),l=a(64761),n=a.n(l);let i=e=>{let{label:t,error:a,placeholder:l,optional:i=!1,textarea:o=!1,className:c,hint:d,testId:u,theme:m="light",...p}=e;return(0,r.jsxs)("div",{className:(0,s.A)("dark"===m?n().containerDark:n().container,c),children:[(0,r.jsxs)("p",{children:[t,i&&(0,r.jsx)("span",{children:"(необязательно)"})]}),(0,r.jsx)("div",{className:(0,s.A)(n().input,a&&n().error),children:o?(0,r.jsx)("textarea",{...p,placeholder:l,"data-testid":u}):(0,r.jsx)("input",{...p,type:"text",placeholder:l,"data-testid":u})}),d&&(0,r.jsx)("div",{className:n().hint,children:d}),(0,r.jsx)("div",{className:(0,s.A)(n().errorText),children:null==a?void 0:a.message})]})}},50739:(e,t,a)=>{"use strict";a.d(t,{Gb:()=>l,KA:()=>i,Mx:()=>c,hZ:()=>n,iL:()=>o,lk:()=>d,qK:()=>s,yR:()=>r});let r=3200,s=-1,l=-1,n=5,i=2,o=480,c=150,d=5},54886:e=>{e.exports={linksWrapper:"BNWl7wTG",link:"gp6AO1Fh",activeDesktopLink:"EJqhdkcs",mobileMenuWrapper:"eW_kbS3t",menuIcon:"QoorOFw8",fullScreenWrapper:"_6jPtq9pZ",mobileMenu:"MC3k2Na7",openMenuAnimation:"pSupQ1ut",mobileMenu__closeAnimation:"mCuXPZZs",closeMenuAnimation:"td_SL_2S",actions:"zyzRCL3Z",actions__title:"lck7NRSd",actions__closeButton:"ASyV9pqp",items:"_0DdvEQcc",items__link:"lGdbhbjL",items__link_img:"E9_fc51q",activeMobileLink:"aS6ssg7b"}},55015:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var r=a(62942),s=a(64359),l=a(75577),n=a(96072),i=a(21309);let o=()=>{let e=(0,i.U)(),{category:t}=(0,r.useParams)(),{appsCategories:a,gamesCategories:o}=(0,l.WF)();return t&&"string"==typeof t&&t!==s.w?(0,n.G)(e?o:a,t):null}},62168:e=>{e.exports={root:"rUlb_tYG",input:"I0K6RrAb",label:"_1YsxNXiK",extensions:"IC0WGeF4",errorMessage:"p1UTlvEt",files:"_9vstRvzc",selectedFile:"_4x7S429W",fileIcon:"lWoS_oZx",deleteButton:"p53zbkCn"}},62471:e=>{e.exports={link:"nV2U7VZp"}},63867:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/catalog/_next/static/media/sprite.cb89046d.svg",height:0,width:0,blurWidth:0,blurHeight:0}},64359:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});let r="all"},64761:e=>{e.exports={container:"YcV0UD6u",input:"XsMV4uMy",error:"BwziqNTw",errorText:"d7Aow4Ry",hint:"fjaeJmVK",containerDark:"XagMPdO8"}},64918:e=>{e.exports={wrapper:"FVBbUlRy",redesignWrapper:"fMJGqfSq",links:"_5Qr5QTWd",redesignLinks:"pbxNaSeR",linksBackground:"OtwJjS6s",link:"MLDAfM7D",isActive:"_3x9p8_u_",redesignLink:"UmKY7xZ2"}},68319:(e,t,a)=>{"use strict";a.d(t,{CM:()=>i,JK:()=>n});var r=a(79924),s=a(60844);let l=(0,r.eU)(null),n=()=>(0,s.useAtomValue)(l),i=()=>(0,s.useSetAtom)(l)},68361:e=>{e.exports={title:"Ybzyqu0q",children:"v8AFtmvI",hidden:"WNTKqKMX",hiddenMobileOnly:"_6ojwkeNS",mobileIcons:"oHhuczzZ"}},70240:e=>{e.exports={terms:"_5WSvTaGp",description:"DLDG8j7_",checkbox:"su9XYkQO"}},71577:(e,t,a)=>{"use strict";a.d(t,{SupportButton:()=>ee});var r=a(84977);let s={src:"/catalog/_next/static/media/successRequest.3e69b335.png"},l={successScreen:{ru:{description:"Спасибо! Мы рассмотрим ваше обращение в самое ближайшее время",title:"Ваше обращение отправлено",image:{url:s.src}},en:{description:"Thanks! We will consider your request as soon as possible",title:"Your request has been sent",image:{url:s.src}},zh:{description:"谢谢您！ 我们会尽快考虑您的请求",title:"您的申请已经提交",image:{url:s.src}}},title:{ru:"Обратиться в поддержку",en:"Write to support",zh:"联系支持"}};var n=a(29783),i=a(5966),o=a(62854),c=a(74542),d=a.n(c);let u=e=>{let{children:t,onClick:a,disabled:s,className:l,...n}=e;return(0,r.jsx)("button",{className:(0,o.A)(d().button,l),disabled:s,onClick:a,"data-testid":"button_id",...n,children:t})},m={src:"/catalog/_next/static/media/failure.4a54a751.svg"},p={src:"/catalog/_next/static/media/success.f6146b04.svg"};var h=a(31808),g=a.n(h);let v=e=>{let{title:t,description:a,variant:s="success",button:l,handleButtonClick:n}=e;return(0,r.jsxs)("div",{className:g().root,"data-testid":"".concat(s,"_screen"),children:[(0,r.jsx)("img",{src:"error"===s?m.src:p.src,alt:s}),(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{className:g().description,children:a}),l&&(0,r.jsx)(u,{className:g().button,onClick:n,"data-testid":"result_screen_button",children:l})]})};var x=a(62942);let _=()=>{let e=(0,x.usePathname)();if(!e)return"ru";let t=e.startsWith("/en");return e.startsWith("/zh")?"zh":t?"en":"ru"},f={ru:{title:"Что-то пошло не так",description:"Попробуйте обновить страницу или зайти позже"},en:{title:"Something went wrong",description:"Try refreshing the page or come back later"},zh:{title:"出了些问题",description:"尝试刷新页面或稍后再回来"}},k=()=>f[_()],b=e=>{let{formState:t,children:a,successMessages:s,buttonText:l,handleButtonClick:n}=e,i=k();switch(t){case"error":return(0,r.jsx)(v,{variant:"error",button:l,handleButtonClick:n,...i});case"success":return(0,r.jsx)(v,{variant:"success",button:l,handleButtonClick:n,...s});default:return a}};var j=a(82494),w=a(70240),y=a.n(w);let N=e=>{let{termsAccepted:t,toggleTerms:a,content:s,className:l}=e;return(0,r.jsxs)("div",{className:(0,o.A)(y().terms,l),children:[(0,r.jsx)("input",{type:"checkbox",id:"terms",className:y().checkbox,checked:t,onChange:a,"data-testid":"checkbox_id"}),(0,r.jsx)("label",{htmlFor:"terms"}),(0,r.jsx)("div",{className:y().description,children:(0,r.jsx)("p",{className:y().description,itemProp:"text",dangerouslySetInnerHTML:{__html:s}})})]})};var C=a(61094);let S=["image/png","image/jpeg","image/jpeg","video/quicktime","video/mp4","video/avi","text/plain"],E=e=>{let{file:t,extensions:a=S,maxFileSize:r}=e;return{isValidExtension:a.includes(t.type),isValidSize:t.size<=r}};var M=a(13429),A=a(61938);let L={src:"/catalog/_next/static/media/cancel.c300ebf2.svg"},z={src:"/catalog/_next/static/media/file.0f58df0e.svg"},I={src:"/catalog/_next/static/media/upload.193c3007.svg"};var T=a(62168),B=a.n(T);let O=e=>{let{title:t,fileExtensions:a="",fileUploadApiUrl:s}=e,{control:l,watch:n,setError:i}=(0,A.xW)(),o=(0,A.jz)({control:l,name:"fileUpload"}),c=n("fileUpload"),[d,u]=(0,M.useState)(!1),m=(0,M.useRef)(null),p=!d&&(null==c?void 0:c.length)<5&&(null==c?void 0:c.every(e=>{var t;return null==e?void 0:null===(t=e.url)||void 0===t?void 0:t.length})),h=async e=>{var t,a;let r=null==e?void 0:null===(a=e.target)||void 0===a?void 0:null===(t=a.files)||void 0===t?void 0:t[0];if(!r)return null;m.current&&(m.current.value="");let l="fileUpload.".concat(o.fields.length);o.append({name:r.name,url:""});let{isValidExtension:n,isValidSize:d}=E({file:r,maxFileSize:5e6});if(!n||!d||c.some(e=>e.name===r.name))i(l,{message:"Некорректный формат файла"});else{u(e=>!e);try{let e=new FormData;e.append("image",r);let t=await (0,C.c)(fetch(s,{method:"POST",body:e}),"json");o.update(o.fields.length,{name:r.name,url:t.fileName})}catch(e){i(l,{message:"Произошла ошибка при загрузке файла"})}finally{u(!1)}}},g=e=>{o.remove(e)};return(0,r.jsxs)("div",{className:B().root,children:[(0,r.jsx)("div",{className:B().files,children:o.fields.map((e,t)=>(0,r.jsx)(A.xI,{name:"fileUpload.".concat(t),control:l,render:e=>{var a;let{field:s,fieldState:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:B().selectedFile,children:[(0,r.jsx)("img",{src:z.src,alt:"fileIcon",className:B().fileIcon}),(0,r.jsx)("p",{children:s.value.name}),(0,r.jsx)("button",{type:"button",onClick:()=>g(t),className:B().deleteButton,disabled:d,"data-testid":"fileupload-remove-button-id",children:(0,r.jsx)("img",{src:L.src,alt:"cancelIcon",className:B().fileIcon})})]}),(0,r.jsx)("span",{className:B().errorMessage,children:null===(a=l.error)||void 0===a?void 0:a.message})]})}},e.id))}),p&&(0,r.jsxs)("label",{htmlFor:"upload",className:B().label,children:[(0,r.jsx)("img",{src:I.src,alt:"upload image"}),t,(0,r.jsx)("span",{className:B().extensions,children:a})]}),(0,r.jsx)("input",{type:"file",id:"upload",ref:m,className:B().input,onChange:h,accept:".log, .png, .jpg, .jpeg, .mov, mp4, .avi","data-testid":"file_upload_id"})]})},R={ru:[{name:"reason",rules:{required:"Обязательное поле",maxLength:{value:100,message:"Максимальное количество символов - 100"},minLength:{value:1,message:"Минимальное количество символов - 1"}},label:"С чем связано обращение?",placeholder:"Суть обращения в 2-4 слова",textarea:!1},{name:"fullName",rules:{required:"Обязательное поле",maxLength:{value:100,message:"Максимальное количество символов - 100"},minLength:{value:1,message:"Минимальное количество символов - 1"}},label:"Имя и фамилия",placeholder:"Алексей Смирнов",textarea:!1},{name:"email",rules:{required:"Обязательное поле",maxLength:{value:100,message:"Максимальное количество символов - 100"},minLength:{value:1,message:"Минимальное количество символов - 1"},pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Некорректный e-mail"}},label:"E-mail",placeholder:"anomimus@mail.ru",textarea:!1},{name:"description",rules:{required:"Обязательное поле",maxLength:{value:300,message:"Максимальное количество символов - 300"},minLength:{value:1,message:"Минимальное количество символов - 1"}},label:"Описание проблемы",placeholder:"Обнаружил ошибку на сайте",textarea:!0}],en:[{name:"reason",rules:{required:"Required field",maxLength:{value:300,message:"Maximum number of characters is 300"},minLength:{value:1,message:"Minimum number of characters is 1"}},label:"What is the reason for the appeal?",placeholder:"The essence of the appeal in 2-4 words",textarea:!1},{name:"fullName",rules:{required:"Required field",maxLength:{value:100,message:"Maximum number of characters is 100"},minLength:{value:1,message:"Minimum number of characters is 1"}},label:"First Name and Last Name",placeholder:"Alexey Smirnov",textarea:!1},{name:"email",rules:{required:"Required field",maxLength:{value:100,message:"Maximum number of characters is 100"},minLength:{value:1,message:"Minimum number of characters is 1"},pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid e-mail"}},label:"E-mail",placeholder:"anomimus@mail.ru",textarea:!1},{name:"description",rules:{required:"Required field",maxLength:{value:300,message:"Maximum number of characters is 300"},minLength:{value:1,message:"Minimum number of characters is 1"}},label:"Description of the problem",placeholder:"I found an error on the website",textarea:!0}],zh:[{name:"reason",rules:{required:"必填字段",maxLength:{value:200,message:"最大字符数为200"},minLength:{value:1,message:"最小字符数为1"}},label:"有什么问题？",placeholder:"简单的描述",textarea:!1},{name:"fullName",rules:{required:"必填字段",maxLength:{value:100,message:"最大字符数为100"},minLength:{value:1,message:"最小字符数为1"}},label:"姓名",placeholder:"成李",textarea:!1},{name:"email",rules:{required:"必填字段",maxLength:{value:200,message:"最大字符数为200"},minLength:{value:1,message:"最小字符数为1"},pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"无效的电子邮件"}},label:"电子邮件",placeholder:"anomimus@mail.ru",textarea:!1},{name:"description",rules:{required:"必填字段",maxLength:{value:300,message:"最大字符数为300"},minLength:{value:1,message:"最小字符数为1"}},label:"问题描述",placeholder:"例子：在控制台中无法注册",textarea:!0}]},W={submitButton:{ru:"Отправить",en:"Send",zh:"附加文件"},errorMsg:{ru:"Необходимо заполнить обязательные поля",en:"Required fields to be filled",zh:"必填字段必须填写"},terms:{ru:'Я ознакомился с <a target="_blank" href="https://www.rustore.ru/help/legal/terms-of-use/"> Политикой обработки персональных данных </a> и даю согласие на обработку своих данных</p>',en:"I have read the <a target='_blank' href='https://help.rustore.ru/rustore/legal_info_en/Privacy_policy_non-resident_developers'> Personal Data Processing Policy </a> and consent to the processing of my data",zh:"我已阅读<a target='_blank' href='https://help.rustore.ru/rustore/legal_info/terms_of_use'>个人数据处理政策</a>并且我同意处理我的数据"},uploadText:{ru:"Прикрепить файлы",en:"Attach Files",zh:"附加文件"}};var q=a(50203),V=a(37908),D=a.n(V);let F=e=>{var t;let{acceptForm:a,onError:s,fileUploadApiUrl:l}=e,[n,i]=(0,M.useState)(!1),[o,c]=(0,M.useState)(!1),d=_(),m=(0,M.useCallback)(()=>i(e=>!e),[]),p=(0,A.mN)({mode:"onBlur",reValidateMode:"onChange",defaultValues:{reason:"",fullName:"",email:"",description:"",fileUpload:[]},disabled:o}),h=Object.keys(p.formState.errors).length<1,g=(null===(t=Object.keys(p.formState.errors))||void 0===t?void 0:t[0])==="reason",v=(0,x.useSearchParams)(),f=null==v?void 0:v.has("autotest");return(0,r.jsx)(A.Op,{...p,children:(0,r.jsxs)("form",{"data-testid":"help_form_submit_id",children:[(0,r.jsx)("div",{className:D().form,children:R[d].map(e=>(0,r.jsx)(A.xI,{control:p.control,name:e.name,rules:e.rules,render:t=>{let{fieldState:a,field:{...s}}=t;return(0,r.jsx)(q.p,{...s,label:e.label,placeholder:e.placeholder,optional:!1,textarea:e.textarea,error:a.error,className:D().formItem,testId:"".concat(e.name,"_input")})}},e.name))}),(0,r.jsx)(O,{title:W.uploadText[d],fileExtensions:"(.png, .jpg, .jpeg, .mov, .mp4, .avi, .log)",fileUploadApiUrl:l}),(0,r.jsx)(N,{termsAccepted:n,toggleTerms:m,content:W.terms[d]}),(0,r.jsx)(j.f,{captchaLanguage:"ru"===d?"ru":"en",placement:"help_form",formValidationMode:"after_click",onDisableForm:()=>c(!0),onCaptchaError:s,renderSubmitButton:e=>{let{disabled:t,...a}=e;return(0,r.jsxs)(r.Fragment,{children:[(!h||g)&&(0,r.jsx)("div",{className:D().errorText,children:W.errorMsg[d]}),(0,r.jsx)(u,{className:D().submit,disabled:!f&&(t||!n),"data-testid":"form_submit_button_id",...a,children:W.submitButton[d]})]})},onSubmitForm:(e,t)=>{let{fileUpload:r,...s}=e;a({data:{fileUpload:r.filter(e=>{var t;return null==e?void 0:null===(t=e.url)||void 0===t?void 0:t.length}).map(e=>null==e?void 0:e.url),...s},captchaResult:t})}})]})})};var K=a(10252),P=a(61773);let U={src:"/catalog/_next/static/media/close.cdacda40.svg"};var G=a(80527);let Y=()=>{(0,M.useEffect)(()=>{let e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;return window.onscroll=()=>{window.scrollTo(t,e)},()=>{window.onscroll=()=>{}}},[])};var H=a(10452),J=a(29942),Z=a.n(J);let Q=e=>{let{setShowModal:t}=e,[a,s]=(0,M.useState)("initial"),o=_(),c=(0,n.W)(),d=(0,K.a)(),u=i.y[d],m=i.t[d];Y();let p=(0,M.useCallback)(()=>s("error"),[]);return(0,G.o)("Escape",t),(0,r.jsxs)("div",{className:Z().root,"data-testid":"support_modal",children:[(0,r.jsx)("div",{className:Z().header,children:(0,r.jsx)(P.default,{src:U.src,onClick:t,"data-testid":"close_button_id",alt:"Hide button",width:36,height:36})}),(0,r.jsx)(b,{formState:a,successMessages:l.successScreen[o],children:(0,r.jsxs)("div",{className:Z().container,children:[(0,r.jsx)("div",{className:Z().title,children:l.title[o]}),(0,r.jsx)(F,{fileUploadApiUrl:m,onError:p,acceptForm:e=>{(0,H.a)(u,e,"dev-landing-supports",o).then(t=>{let{result:a,errorDetail:r}=t;s(a),c(e.captchaResult,{error:"success"!==a,errorDetail:r})})}})]})})]})};var X=a(7124),$=a.n(X);let ee=e=>{let{logTmrEvent:t}=e,[a,s]=(0,M.useState)(!1),n=_(),i=(0,M.useCallback)(()=>s(!a),[a]);return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(Q,{setShowModal:i}),(0,r.jsx)("button",{className:$().button,onClick:()=>{t("button.click",{button_text:"Написать в поддержку"}),i()},"data-testid":"support_button_id",children:l.title[n]})]})}},74542:e=>{e.exports={button:"_Y9b_p2N"}},75577:(e,t,a)=>{"use strict";a.d(t,{WF:()=>n,_Q:()=>l});var r=a(79924),s=a(60844);let l=(0,r.eU)({appsCategories:[],gamesCategories:[]}),n=()=>(0,s.useAtomValue)(l)},80527:(e,t,a)=>{"use strict";a.d(t,{o:()=>s});var r=a(13429);let s=function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=(0,r.useRef)(null);(0,r.useEffect)(()=>{s.current=a=>{(Array.isArray(e)?e.includes(a.key):e===a.key)&&(null==t||t(a))}},[e,t]),(0,r.useEffect)(()=>{if(!a)return;let e=e=>{var t;null===(t=s.current)||void 0===t||t.call(s,e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[a])}},81812:e=>{e.exports={root:"RM03EwjP",withTextPaddings:"_81ikp6Dm",blueHover:"XHlcYuWV",lightHover:"zFnAY4d_",topScrollHightlight:"_2hIZqQ4R"}},82007:(e,t,a)=>{"use strict";a.d(t,{Y:()=>l,b:()=>n});var r=a(84977),s=a(13429);let l=(0,s.createContext)({allowBypassCaptcha:!1,vkInitEndpoint:"/api/vk-captcha-init",logAnalyticsEvent:()=>{}}),n=e=>{let{allowBypassCaptcha:t,vkInitEndpoint:a,disabled:n,logAnalyticsEvent:i,children:o}=e,c=(0,s.useMemo)(()=>({allowBypassCaptcha:t,vkInitEndpoint:a,disabled:n,logAnalyticsEvent:i}),[t,a,n,i]);return(0,r.jsx)(l.Provider,{value:c,children:o})}},82494:(e,t,a)=>{"use strict";a.d(t,{f:()=>k});var r=a(84977),s=a(13429),l=a(61938),n=a(62942),i=a(82007),o=a(62854),c=a(87766),d=a.n(c);let u=e=>{let{className:t}=e;return(0,r.jsx)("div",{className:(0,o.A)(d().container,t),children:(0,r.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:d().loader,children:(0,r.jsx)("path",{d:"M16 32C15.1716 32 14.5 31.3284 14.5 30.5C14.5 29.6716 15.1716 29 16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16C3 17.5569 3.27312 19.0741 3.80018 20.5019C4.08708 21.279 3.68963 22.1416 2.91247 22.4285C2.13531 22.7154 1.27272 22.318 0.985825 21.5408C0.336423 19.7817 0 17.9128 0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32Z",fill:"#99A2AD"})})})};var m=a(8139),p=a(87654),h=a(1798),g=a.n(h);let v={ru:"0",en:"3"},x=async(e,t)=>{try{let a=await fetch(e,{method:"POST",body:JSON.stringify({source:t}),headers:{"content-type":"application/json"},redirect:"manual"});if(200!==a.status)return{error:!0,message:(0,p.f)("opaqueredirect"===a.type?302:a.status)};return await a.json()}catch(e){return{error:!0,message:(0,p.f)(e instanceof Error?e:0)}}},_={vk:e=>{let{placement:t,language:a,className:l,onResult:n,onError:c,scheme:d}=e,{vkInitEndpoint:h}=(0,s.useContext)(i.Y),{logInitResult:_,logSdkCallResult:f}=(0,p.o)(),k=(0,s.useRef)(null),[b,j]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!b){window.vkidCaptchaInit&&j(!0);return}(async()=>{let e=await x(h,t);if(e.error){_({placement:t,error:!0,errorMessage:e.message}),c();return}_({placement:t,error:!1});let r=new(await window.vkidCaptchaInit);try{let s=await r.show({container:k.current,iframeSrc:e.iframeUrl,view:"block",scheme:d||"light",lang:v[null!=a?a:"ru"]}),l={source:t,sessionId:e.sessionId,provider:"vk",token:s};f({placement:t,error:!1}),n(l)}catch(e){console.warn("Failed",e),f({placement:t,error:!0,errorMessage:(0,p.f)(e)}),c()}})()},[b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.default,{id:"vk-captcha-script",src:"https://static.vk.com/captchaSDK/loader/0/umd/index.js",strategy:"afterInteractive",onLoad:()=>j(!0),onError:()=>{_({placement:t,error:!0,errorMessage:"script_load_error"}),c()}}),(0,r.jsx)("div",{ref:k,className:(0,o.A)(g().container,l),children:(0,r.jsx)(u,{className:g().loader})})]})},mock:e=>{let{onResult:t}=e;return(0,s.useEffect)(()=>{t({provider:"mock",token:"mock-token"})},[]),null}},f=e=>{let{language:t,placement:a,className:l,onResult:o,onError:c,scheme:d="light"}=e,{allowBypassCaptcha:u,disabled:m}=(0,s.useContext)(i.Y),p=(0,n.useSearchParams)(),h=u&&(null==p?void 0:p.has("autotest"));if(m)return null;let g=_[h?"mock":"vk"];return(0,r.jsx)(g,{language:t,placement:a,className:l,onError:c,onResult:o,scheme:d})},k=e=>{let{placement:t,captchaLanguage:a,formValidationMode:n,captchaClassName:i,renderSubmitButton:o,onDisableForm:c,onCaptchaError:d,onSubmitForm:u,scheme:m}=e,{trigger:p,getValues:h,formState:{isValid:g,isDirty:v}}=(0,l.xW)(),x=(0,s.useRef)(null),[_,k]=(0,s.useState)(!1);return _?(0,r.jsx)("div",{className:i,children:(0,r.jsx)(f,{language:null!=a?a:"ru",placement:t,onResult:e=>{x.current&&u(x.current,e)},onError:d,scheme:m})}):o({disabled:"before_click"===n&&!(g&&v),onClick:e=>{e.preventDefault(),e.stopPropagation();let t=()=>{x.current=h(),c(),k(!0)};"before_click"===n?t():p().then(e=>{e&&t()})},onResetClick:()=>{}})}},84059:(e,t,a)=>{"use strict";a.d(t,{Rc:()=>u,ai:()=>x,ci:()=>v,oW:()=>h,uf:()=>c,wM:()=>d,y1:()=>p});var r=a(79924),s=a(60844),l=a(10282),n=a(13429),i=a(50739);let o=(0,r.eU)("idle"),c=()=>(0,s.useSetAtom)(o),d=()=>(0,s.useAtomValue)(o),u=["failed","finished"],m=(0,r.eU)(void 0),p=()=>(0,s.useSetAtom)(m),h=()=>(0,s.useAtomValue)(m),g=()=>(0,l.yF)((0,n.useCallback)(e=>e(m),[])),v=()=>{let e=g();return(0,n.useCallback)(()=>{var t,a;return null!==(a=null===(t=e())||void 0===t?void 0:t.id)&&void 0!==a?a:i.qK},[e])},x=e=>{let t=d(),a=u.includes(t),r=v();(0,n.useEffect)(()=>{a&&e(r())},[a,r,e])}},87124:(e,t,a)=>{"use strict";a.d(t,{r:()=>n});var r=a(84977),s=a(13429),l=a(63867);let n=e=>{let{svg:t,size:a,...n}=e,i=(0,s.useMemo)(()=>({...("number"==typeof a||"string"==typeof a)&&{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a)},..."object"==typeof a&&{...a,viewBox:"0 0 ".concat(a.width," ").concat(a.height)},"aria-hidden":"true"}),[a]);return(0,r.jsx)("svg",{...i,...n,children:(0,r.jsx)("use",{href:"".concat(l.default.src,"#").concat(t)})})}},87601:e=>{e.exports={wrapper:"blI9QNkk",headerWrapper:"LBfVUqxv",scrollHeader:"I_V70YlV",header:"za9NW_6j",animPaddings:"kmV7HdKV",rightSideContent:"Csn01WU_",hidedScrollImg:"_7K6ZbuG4"}},87654:(e,t,a)=>{"use strict";a.d(t,{f:()=>l,o:()=>i});var r=a(13429),s=a(82007);let l=e=>{let t="";return("number"==typeof e?"fetch_status_".concat(e):e instanceof Error?["error",e.name,e.message].join("_"):"".concat(e)).substring(0,255)},n=e=>({form_name:e.placement,response:e.error?"failure":"success",text:e.error?e.errorMessage:""}),i=()=>{let{logAnalyticsEvent:e}=(0,r.useContext)(s.Y);return(0,r.useMemo)(()=>({logInitResult:t=>e({logEvent:"captcha.initialization",params:n(t)}),logSdkCallResult:t=>e({logEvent:"captcha.click",params:n(t)}),logValidationResult:t=>e({logEvent:"captcha.validationResult",params:n(t)})}),[e])}},87766:e=>{e.exports={container:"qhpCtd2p",loader:"yw03c8H3",rotate:"VInDI3q3"}},87991:e=>{e.exports={wrapper:"a3j3_NJl",withAvatarAnimation:"cCtvUHfF",slideAside:"wzDwESVf",hideRustorePart:"roA_SOOI"}},88818:e=>{e.exports={"typography-h1":"ii9F1ljz","typography-h2":"auQQDBJg","typography-h3":"nVZAIzwV","typography-subheader-1":"J1wBWPAe","typography-subheader-2":"VV0MZngj","typography-content-l":"Kvntq2ma","typography-content-m":"_JuJuLKd","typography-content-s":"Lk4dfEwZ","typography-list":"LYFg5s_d","typography-control-l":"CCcYEyL5","typography-control-m":"wyBLWfAc","typography-control-s":"wl5RauGF","typography-caption":"Z1jo1Tun",color:"S_n__8iC","overflow-ellipsis":"JLhVhvda"}},93157:e=>{e.exports={wrapper:"hwyvddEa",footer:"u7bWGsfA",lowLinks:"_6UnsngEz"}},96072:(e,t,a)=>{"use strict";a.d(t,{G:()=>r});let r=(e,t)=>(null==e?void 0:e.filter(e=>0!==e.appCount).find(e=>e.category.toLowerCase()===t))||null},96143:(e,t,a)=>{"use strict";a.d(t,{StrapiHeader:()=>er});var r=a(84977),s=a(62854),l=a(13429);let n={anchor:"header_anchorLink",link:"header_routeLink",menu:"header_mobileMenu",logo:"header_logo",menuButton:"header_menuButton"};var i=a(64918),o=a.n(i);let c=e=>{let{anchorLinks:t,onAnchorLinkClick:a,isRedesignAnchors:i}=e,[c,d]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{var e;if((null===(e=window)||void 0===e?void 0:e.IntersectionObserver)&&i){let e=document.createElement("div");e.style.position="absolute",e.style.top="".concat(96,"px"),e.style.height="1px",e.style.width="0",document.body.appendChild(e);let t=new IntersectionObserver(e=>{let[t]=e;d(!t.isIntersecting)},{threshold:1,rootMargin:"0px"});return t.observe(e),()=>{t.disconnect(),document.body.removeChild(e)}}},[i]),null==t?void 0:t.length)?(0,r.jsx)("div",{className:(0,s.A)(o().wrapper,{[o().redesignWrapper]:i}),children:(0,r.jsx)("div",{className:(0,s.A)(o().links,{[o().redesignLinks]:i,[o().linksBackground]:i&&c}),children:t.map(e=>{let{isActiveAnchor:t,...r}=e;return(0,l.createElement)("a",{onClick:()=>null==a?void 0:a(r),className:(0,s.A)(o().link,{[o().isActive]:t,[o().redesignLink]:i}),...r,key:r.title,"data-testid":n.anchor},r.title)})})}):null};var d=a(61773);let u={src:"/catalog/_next/static/media/Close.408d739c.svg"},m={src:"/catalog/_next/static/media/Menu.bfc0ffb6.svg"};var p=a(81812),h=a.n(p);let g=e=>{let{href:t,hoverVariant:a,highlightOnTopScroll:l,withTextPaddings:n,className:i,onClick:o,children:c,...d}=e;return(0,r.jsx)(t?"a":"button",{href:t,onClick:o,className:(0,s.A)(h().root,"blue"===a?h().blueHover:h().lightHover,l&&h().topScrollHightlight,n&&h().withTextPaddings,i),...d,children:c})};var v=a(54886),x=a.n(v);let _=e=>{let{links:t,onLinkClick:a,mobileMenu:{mobileMenuTitle:i,footer:o,onMenuLinkClick:c,onToggleMenu:p},isMobileMenuVisible:h,setMobileMenuVisible:v,activeLinkOrder:_}=e,f=(0,l.useRef)(null),[k,b]=(0,l.useState)(!1),j=(0,l.useCallback)(()=>{if(!h)return null==p||p(!0),v(!0);f.current?(f.current.classList.add(x().mobileMenu__closeAnimation),f.current.addEventListener("animationend",()=>{null==p||p(!1),v(!1)},{once:!0})):(null==p||p(!1),v(!1))},[h,v,p]);return(0,l.useEffect)(()=>{window&&window!==window.parent&&b(!0)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:x().linksWrapper,children:t.map((e,t)=>{let{title:l,href:i,target:o}=e;return(0,r.jsx)("a",{onClick:t=>null==a?void 0:a(e,t),href:i,className:(0,s.A)(x().link,{[x().activeDesktopLink]:t+1===_}),target:k?"_blank":o,"data-testid":n.link,children:l},l)})}),(0,r.jsx)("div",{className:x().mobileMenuWrapper,children:(0,r.jsx)(g,{hoverVariant:"light",onClick:j,className:x().menuIcon,"data-testid":n.menuButton,"aria-label":h?"Закрыть меню":"Открыть меню","aria-expanded":h,children:(0,r.jsx)(d.default,{src:h?u.src:m.src,alt:"","aria-hidden":!0,loading:"lazy",width:20,height:20})})}),(0,r.jsx)("div",{className:(0,s.A)({[x().fullScreenWrapper]:h}),onClick:e=>{e.target===e.currentTarget&&h&&j()},children:h&&(0,r.jsxs)("div",{className:x().mobileMenu,ref:f,"data-testid":n.menu,children:[(0,r.jsxs)("div",{className:x().actions,children:[(0,r.jsx)("span",{className:x().actions__title,children:i}),(0,r.jsx)("span",{className:x().actions__closeButton,onClick:j,"data-testid":n.menuButton,children:(0,r.jsx)(d.default,{src:u.src,alt:"Закрыть меню",width:24,height:24})})]}),(0,r.jsx)("div",{className:x().items,children:t.map((e,t)=>{let{title:l,href:i,mobileIcon:o}=e;return(0,r.jsxs)("a",{href:i,onClick:t=>{var r;null===(r=c||a)||void 0===r||r(e,t),j()},className:(0,s.A)(x().items__link,{[x().activeMobileLink]:t+1===_}),"data-testid":n.link,children:[(0,r.jsx)("img",{className:x().items__link_img,src:o,loading:"lazy",alt:"Иконка ".concat(l)}),l]},l)})}),o]})})]})};var f=a(24386),k=a.n(f);let b=e=>{let{logo:{logoHref:t,afterLogoImageHref:a,href:l},isMenuOpened:i}=e;return(0,r.jsxs)("a",{href:l,className:(0,s.A)(k().logoWrapper,{[k().showInMenu]:i}),"data-testid":n.logo,children:[(0,r.jsx)(d.default,{src:t,className:k().logo,alt:"Логотип RuStore",width:112,height:28}),a&&(0,r.jsx)(d.default,{src:a,className:k().afterLogo,alt:"","aria-hidden":!0,width:104,height:30})]})};var j=a(87601),w=a.n(j);let y=e=>{let{links:t,onLinkClick:n,onAnchorLinkClick:i,anchorLinks:o,logo:d,rightSideContent:u,mobileMenu:m,activeLinkOrder:p,isRedesignAnchors:h}=e,[g,v]=(0,l.useState)(!0),[x,f]=(0,l.useState)(!1),[k,j]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e=document.location.pathname;if(/^\/(catalog|osaurora)/.test(e)&&Promise.all([a.e(7146),a.e(9907)]).then(a.bind(a,69907)).then(e=>j(e.RemoveScroll.classNames.fullWidth)).catch(()=>null),!window.IntersectionObserver)return;let t=document.createElement("img");t.className=w().hidedScrollImg,t.alt="",(document.getElementById("root")||document.body).append(t);let r=new IntersectionObserver(e=>{v(e[0].isIntersecting)},{threshold:1});return r.observe(t),()=>{r.disconnect()}},[]),(0,r.jsxs)("header",{className:w().wrapper,children:[(0,r.jsx)("div",{className:(0,s.A)(w().headerWrapper,{[w().scrollHeader]:!g}),"data-topscroll":g,children:(0,r.jsxs)("div",{className:(0,s.A)(w().header,k,{[w().animPaddings]:g}),children:[(0,r.jsx)(b,{logo:d,isMenuOpened:x}),(0,r.jsx)(_,{activeLinkOrder:p,isMobileMenuVisible:x,setMobileMenuVisible:f,links:t,onLinkClick:n,mobileMenu:m}),(0,r.jsx)("div",{className:w().rightSideContent,children:u})]})}),(0,r.jsx)(c,{anchorLinks:o,onAnchorLinkClick:i,isRedesignAnchors:h})]})};var N=a(77837),C=a(84059),S=a(87124),E=a(19134),M=a(9827),A=a.n(M),L=a(99769);let z=()=>{var e;let t=(0,N._)("WEB_AUTO_LOGIN"),a=(0,C.oW)();if((null==a?void 0:a.id)&&"headerAvatar"===t)return(0,r.jsxs)("div",{className:A().container,onClick:E.zT,"data-testid":"auth-menu-comp",children:[(0,r.jsx)(L.e,{size:40,className:A().avatar}),(0,r.jsxs)("div",{className:A().user,children:[(0,r.jsx)("div",{className:A().name,children:null!==(e=null==a?void 0:a.first_name)&&void 0!==e?e:"id".concat(null==a?void 0:a.id)}),(0,r.jsxs)("div",{className:A().id,children:["Вы вошли с помощью ",(0,r.jsx)("span",{className:"visually-hidden",children:"VK ID"}),(0,r.jsx)(S.r,{svg:"vk_id",color:"black"})]})]})]})},I=e=>{let{links:t,excludedTitles:a}=e;return(0,l.useMemo)(()=>a.length?t.filter(e=>!a.includes(e.title)):t,[t,a])};var T=a(12918);let B=e=>{switch(e.title){case"Разработчикам":(0,T.K0)({eventName:"header_menu_button_developers"}),(0,T.wz)({logEvent:"devTop.click"});break;case"Игры":(0,T.K0)({eventName:"header_menu_button_games"}),(0,T.wz)({logEvent:"gamesTop.click"});break;case"Помощь":(0,T.K0)({eventName:"header_menu_button_help"}),(0,T.wz)({logEvent:"supportTop.click"});break;case"Приложения":(0,T.K0)({eventName:"header_menu_button_apps"}),(0,T.wz)({logEvent:"appsTop.click"})}(0,T.wz)({logEvent:"header.click",params:{button_text:e.title}})};var O=a(27060);let R=()=>{(0,T.wz)({logEvent:"menu.open"}),O.b.logMenuOpenClick()},W=()=>{(0,T.wz)({logEvent:"menu.close"})},q=e=>{switch(e){case"Приложения":(0,T.wz)({logEvent:"menu.apps.click"}),O.b.logAppsClick();return;case"Игры":(0,T.wz)({logEvent:"menu.games.click"}),O.b.logGamesClick();return;case"Разработчикам":(0,T.wz)({logEvent:"menu.dev.click"}),O.b.logDevClick();return;case"Помощь":(0,T.wz)({logEvent:"menu.support.click"}),O.b.logSupportClick()}};var V=a(19273),D=a.n(V);let F=e=>{var t;let{size:a}=e,s=(0,C.oW)(),n=(0,C.wM)(),[i,o]=(0,l.useState)(!1),c=(0,l.useCallback)(()=>{(0,E.rr)(),o(!0)},[]),d=(0,l.useCallback)(()=>{o(!1)},[]);return(0,r.jsxs)("div",{className:D().container,"data-testid":"auth-header-comp",onMouseOver:c,onMouseOut:d,children:[(0,r.jsx)(L.e,{size:a}),i&&"notify_user"!==n&&(0,r.jsxs)("div",{className:D().tooltip,children:[(0,r.jsx)("div",{className:D().name,children:null!==(t=null==s?void 0:s.first_name)&&void 0!==t?t:null==s?void 0:s.id}),(0,r.jsxs)("div",{className:D().id,children:["Вы вошли с помощью ",(0,r.jsx)("span",{className:"visually-hidden",children:"VK ID"}),(0,r.jsx)(S.r,{svg:"vk_id",color:"black"})]})]})]})};var K=a(19049),P=a(41162),U=a(34596),G=a.n(U);let Y=()=>{let[e,t]=(0,l.useState)(!1),a=(0,l.useCallback)(()=>{t(!0),O.b.logSearchBoxOpenClick()},[]);return(0,l.useEffect)(()=>{let e=document.querySelector("header"),t=new MutationObserver(function(){e&&(e.style.paddingRight=document.documentElement.style.paddingRight)}),a=document.documentElement;return t.observe(a,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[]),(0,r.jsxs)("div",{className:(0,s.A)(G().search),children:[(0,r.jsxs)(g,{hoverVariant:"light",onClick:a,"aria-label":"Открыть поиск","data-testid":"header_search_button",children:[(0,r.jsx)(S.r,{svg:"search",size:20}),(0,r.jsx)("span",{className:G().searchText,children:"Поиск"})]}),(0,r.jsx)(P.f,{isOpen:e,setIsOpen:e=>t(e)})]})};var H=a(87991),J=a.n(H);let Z=["notify_user","finished"],Q=e=>{let{hideSearchButton:t}=e,{logDownloadRustoreTopClick:a}=(0,K.k)(),l=(0,C.wM)(),n=Z.includes(l);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,s.A)(J().wrapper,n&&J().withAvatarAnimation),children:[!t&&(0,r.jsx)(Y,{}),(0,r.jsxs)(g,{hoverVariant:"blue",withTextPaddings:!0,highlightOnTopScroll:!0,href:"https://www.rustore.ru/instruction",onClick:a,"data-testid":"goToDownloadInstruction",children:["Скачать",(0,r.jsx)("span",{className:J().hideRustorePart,children:"\xa0RuStore"})]}),n&&(0,r.jsx)(F,{size:36})]})})};var X=a(62942),$=a(89628),ee=a(68319);let et=(e,t,a)=>{let r=e.findIndex(e=>t.test(e.href)||e.title===a);return -1===r?void 0:r+1},ea=e=>{let t=(0,X.usePathname)(),a=(0,ee.JK)();return(0,l.useMemo)(()=>{let r=et(e,/\/catalog$/,"Приложения"),s=et(e,/\/catalog\/games$/,"Игры"),l={[$.u.GAMES]:s,[$.u.MAIN]:r};return t?t.startsWith("/games")?s||r:t.startsWith("/kiosk")?et(e,/\/catalog\/kiosk$/,"Киоск")||r:t.startsWith("/app/")||t.startsWith("/event/")?a?l[a]||r:void 0:r:r},[t,a])},er=e=>{let{handleLinkClick:t,hideSearchButton:a,links:s,...n}=e,i=(0,l.useCallback)(e=>e?R():W(),[]),o=(0,N.z)("ENABLE_KIOSK_PAGE"),c=(0,N.z)("EXCLUDED_HEADER_LINK_TITLES"),d=I({links:s,excludedTitles:o?c:[...c,"Киоск"]}),u=ea(d),m=(0,l.useCallback)((e,a)=>{B(e),t&&t(e,a)},[t]),p=(0,l.useCallback)((e,a)=>{q(e.title),t&&t(e,a)},[t]);return(0,r.jsx)(y,{...n,links:d,onLinkClick:m,activeLinkOrder:u,rightSideContent:(0,r.jsx)(Q,{hideSearchButton:a}),mobileMenu:{mobileMenuTitle:"Меню",footer:(0,r.jsx)(z,{}),onToggleMenu:i,onMenuLinkClick:p}})}},99769:(e,t,a)=>{"use strict";a.d(t,{e:()=>c});var r=a(84977),s=a(62854),l=a(84059),n=a(87124),i=a(41605),o=a.n(i);let c=e=>{let{className:t,size:a=36}=e,i=(0,l.oW)();return i?(null==i?void 0:i.photo_200)?(0,r.jsx)("img",{alt:"Аватар ".concat(i.first_name||"пользователя"),src:i.photo_200,className:(0,s.A)(o().image,t),width:a,height:a}):(0,r.jsx)(n.r,{svg:"defaultAvatar",size:a,className:t}):null}}}]);
//# sourceMappingURL=7014-e4423ed701d2330f.js.map