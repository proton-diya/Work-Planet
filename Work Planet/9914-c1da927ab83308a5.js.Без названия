(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9914],{8752:e=>{e.exports={root:"XTHg8ZHD",icon:"sejjR2QQ",chipText:"fO7xgES2",capitalizedText:"N6kosmLK",gray:"ElfNwuk5",blue:"MzPuB1CC",violet:"S89Gl7Ry",green:"_5p0ktSHO",clickable:"Q6vK9ZFO"}},19734:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,_:()=>i});var r=a(13429);let i=e=>{let{mediaQuery:t,onChange:a}=e;(0,r.useLayoutEffect)(()=>{let e=window.matchMedia(t);a(e.matches,!0);try{let t=e=>a(e.matches,!1);return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}catch(i){let t=e.matches,r=()=>{t!==e.matches&&a(t=e.matches,!1)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}},[t,a])},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[a,s]=(0,r.useState)(t);return i({mediaQuery:e,onChange:s}),a}},20850:e=>{e.exports={label:"_9e6I0ftU"}},20932:(e,t,a)=>{"use strict";a.d(t,{b:()=>c});var r=a(38158),i=a(13429),s=a(84059),o=a(12918);let c=()=>{let e=(0,s.ci)(),t=(0,i.useCallback)(t=>{(0,o.wz)({logEvent:"app.select",params:{app_id:t,vk_id:e()}})},[e]),a=(0,i.useCallback)((t,a)=>{(0,o.wz)({logEvent:"appCategory.app.select",params:{app_id:t,app_category_name:a,vk_id:e()}})},[e]),c=(0,i.useCallback)(t=>{(0,o.wz)({logEvent:"games.game.select",params:{app_id:t,vk_id:e()}})},[e]);return{logAppsAppSelect:t,logAppCategoryAppSelect:a,logGamesGameSelect:c,logGameCategoryGameSelect:(0,i.useCallback)((t,a)=>{(0,o.wz)({logEvent:"gameCategory.game.select",params:{app_id:t,app_category_name:a,vk_id:e()}})},[e]),logSearchResultsClick:(0,i.useCallback)(t=>{let{query:a,position:i,appId:s,currentCategory:c}=t;(0,o.wz)({logEvent:"searchResults.click",params:{app_category_name:c,q_id:(0,r.Ak)(),query:a,position:i,app_id:s,vk_id:e()}})},[e])}}},21309:(e,t,a)=>{"use strict";a.d(t,{U:()=>i});var r=a(62942);let i=()=>{let e=(0,r.usePathname)();return(null==e?void 0:e.includes("/games"))||!1}},28365:(e,t,a)=>{"use strict";a.d(t,{s:()=>s});var r=a(13429),i=a(93114);let s=()=>(0,r.useCallback)(e=>{let{currentTarget:t}=e;t.src=i.rK},[])},35230:(e,t,a)=>{"use strict";a.d(t,{footerTmrEvent:()=>o,onFooterClick:()=>s,onSocialClick:()=>i});var r=a(12918);let i=e=>{var t;(0,r.wz)({logEvent:"footer.networkClick",params:{social_link:null!==(t=e.currentTarget.getAttribute("href"))&&void 0!==t?t:"",vk_id:-1}})},s=e=>{let{title:t}=e;(0,r.wz)({logEvent:"footer.click",params:{button_text:t,vk_id:-1}}),(0,r.K0)({eventName:"footer_click"})},o=(e,t)=>{(0,r.wz)({logEvent:e,params:t})}},38231:(e,t,a)=>{"use strict";a.d(t,{X:()=>r});let r=e=>e.toFixed(1).toString().replace(".",",")},40114:(e,t,a)=>{"use strict";a.d(t,{g:()=>o});var r=a(84977),i=a(90122),s=a.n(i);let o=e=>{let{price:t=0,className:a}=e,i=Math.trunc((null!=t?t:0)/100),o=Math.trunc((null!=t?t:0)%100),c=o>9?o:String(o).padStart(2,"0");return(0,r.jsxs)("span",{itemProp:"offers",itemScope:!0,itemType:"https://schema.org/Offer",className:s().root,children:[(0,r.jsx)("meta",{itemProp:"price",content:"".concat(t/100)}),t>0&&(0,r.jsxs)("span",{className:a,"data-testid":"price",children:[(0,r.jsx)("span",{className:"visually-hidden",children:"Цена:\xa0"}),i,",",c," ₽"]}),(0,r.jsx)("meta",{itemProp:"priceCurrency",content:"RUB"})]})}},48458:e=>{e.exports={root:"CEPiHSwn",innerBox:"rEyNkpHT",appIcon:"cksdqEWw",image:"GfXZV_G_",appMisc:"S2syaf2v",price:"_7kJA7jVo",rating:"_4ylK4Wuy",infoBlock:"_0s5JdHS9",hoverOutside:"wuR8_WZN"}},50456:e=>{e.exports={wrapper:"W_agUBTR",PORTRAIT:"y5Uo88FG",LANDSCAPE:"_4VtxDkid"}},50739:(e,t,a)=>{"use strict";a.d(t,{Gb:()=>s,KA:()=>c,Mx:()=>l,hZ:()=>o,iL:()=>n,lk:()=>p,qK:()=>i,yR:()=>r});let r=3200,i=-1,s=-1,o=5,c=2,n=480,l=150,p=5},55015:(e,t,a)=>{"use strict";a.d(t,{e:()=>n});var r=a(62942),i=a(64359),s=a(75577),o=a(96072),c=a(21309);let n=()=>{let e=(0,c.U)(),{category:t}=(0,r.useParams)(),{appsCategories:a,gamesCategories:n}=(0,s.WF)();return t&&"string"==typeof t&&t!==i.w?(0,o.G)(e?n:a,t):null}},63867:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/catalog/_next/static/media/sprite.cb89046d.svg",height:0,width:0,blurWidth:0,blurHeight:0}},64359:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});let r="all"},75577:(e,t,a)=>{"use strict";a.d(t,{WF:()=>o,_Q:()=>s});var r=a(79924),i=a(60844);let s=(0,r.eU)({appsCategories:[],gamesCategories:[]}),o=()=>(0,i.useAtomValue)(s)},79416:(e,t,a)=>{"use strict";a.d(t,{S:()=>B});var r=a(84977),i=a(62854),s=a(61773),o=a(27261),c=a.n(o),n=a(62942),l=a(13429);let p=e=>{let{price:t=0}=e;return(0,r.jsxs)("div",{itemProp:"offers",itemScope:!0,itemType:"https://schema.org/Offer",className:"visually-hidden",children:[(0,r.jsx)("meta",{itemProp:"price",content:"".concat(t/100)}),(0,r.jsx)("meta",{itemProp:"priceCurrency",content:"RUB"})]})};var d=a(93114),m=a(50739),g=a(89628),u=a(21309),v=a(77837),h=a(55015),y=a(93919),f=a(28365),x=a(99426),_=a(93529),k=a(20850),N=a.n(k);let C=e=>{let{label:t,appType:a}=e;if(!t)return null;let{name:i,iconUrl:s,color:o}=t,c={text:i,colorVariant:o.toLowerCase(),href:"",type:"labels",iconUrl:s,capitalizeText:!0,testId:"app_label_test_id"};return(0,r.jsx)(_.v,{appType:a,data:c,className:N().label,isLinkComponent:!1})};var E=a(40114),w=a(12918),j=a(20932),S=a(38231),b=a(87124),A=a(92534),T=a(48458),R=a.n(T),L=a(86541),P=a(50456),I=a.n(P);let z=e=>{let{orientation:t,screens:a}=e,i=(0,l.useMemo)(()=>t===L.t4.PORTRAIT?a.filter(e=>e.orientation===L.t4.PORTRAIT).slice(0,3):t===L.t4.LANDSCAPE?a.filter(e=>e.orientation===L.t4.LANDSCAPE).slice(0,1):[],[t,a]);return(0,r.jsx)("div",{className:I().wrapper,children:i.map((e,a)=>(0,r.jsx)("img",{src:e.fileUrl,alt:"Скриншот ".concat(a+1),className:I()[t],style:3!==i.length?{justifyContent:"space-around"}:{}},e.fileUrl))})},B=(0,l.memo)(e=>{var t,a,o,_,k,N,T;let{app:L,position:P,screensPreview:I,listName:B,logCustomAnalyticsOnClick:U,renderPriceAsMicrodata:O=!1,hoverOutside:F}=e,G=(0,n.useRouter)(),V=(0,n.useParams)(),M=(0,u.U)(),W=(0,h.e)(),H=(null==W?void 0:W.category)||"main",K=(0,y.G)(),D=(0,v.z)("ENABLE_APP_LABEL_IN_APPS_LIST")&&!!(null===(t=L.labels)||void 0===t?void 0:t.length),{logAppsAppSelect:Z,logAppCategoryAppSelect:q,logGamesGameSelect:J,logGameCategoryGameSelect:Q,logSearchResultsClick:X}=(0,j.b)(),Y=null!==(_=null==V?void 0:V.query)&&void 0!==_?_:"",$=(0,l.useCallback)(()=>{var e,t;U?U(L,P):Y?X({query:Y,position:P,appId:L.packageName,currentCategory:H}):M?(Q(L.packageName,H),J(L.packageName)):(q(L.packageName,H),Z(L.packageName)),(0,w.K0)({eventName:"ecommerce_select_item"}),(0,w.yp)({eventName:"select_item",app:{packageName:L.packageName,appId:L.appId,developer:L.companyName,type:L.appType,category:L.category?null!==(e=K[L.category])&&void 0!==e?e:L.category:void 0,price:null!==(t=L.price)&&void 0!==t?t:0},placement:{listName:B,position:P}})},[U,Y,L,K,B,P,H,M,Q,q,J,Z,X]),ee=(0,f.s)(),et=!!L.price&&!O,ea=Number(L.totalRatings)>=m.lk?L.totalRatings:0,er=ea?L.averageUserRating:0,ei=!!er&&!!ea;return(0,r.jsx)(c(),{id:"app-card-link-".concat(L.appId),"data-testid":"AppCardLink",className:(0,i.A)(R().root,F&&R().hoverOutside),href:x.b.app.app(L.packageName),onClick:$,prefetch:!1,children:(0,r.jsxs)("div",{"data-testid":"AppCardContainer",onKeyDown:e=>{"Enter"===e.code&&(e.preventDefault(),$(),G.push(x.b.app.app(L.packageName)))},itemScope:!0,itemType:"https://schema.org/SoftwareApplication",children:[(0,r.jsx)("meta",{itemProp:"operatingSystem",content:"Android"}),!!L.totalRatings&&!ei&&(0,r.jsxs)("div",{itemProp:"aggregateRating",itemScope:!0,itemType:"http://schema.org/AggregateRating",children:[(0,r.jsx)("meta",{itemProp:"ratingValue",content:"".concat(null!==(k=L.averageUserRating)&&void 0!==k?k:0)}),(0,r.jsx)("meta",{itemProp:"ratingCount",content:"".concat(null!==(N=L.totalRatings)&&void 0!==N?N:0)})]}),(0,r.jsx)("meta",{itemProp:"applicationCategory",content:L.appType===g.u.GAMES?"GameApplication":"Application"}),void 0!==L.price&&O&&(0,r.jsx)(p,{price:L.price}),(0,r.jsxs)("div",{className:R().innerBox,children:[(0,r.jsx)("div",{className:R().appIcon,children:(0,r.jsx)(s.default,{className:R().image,src:null!==(T=L.iconUrl)&&void 0!==T?T:d.rK,alt:"".concat(L.appName," логотип"),fill:!0,onError:ee})}),(0,r.jsxs)("div",{className:R().infoBlock,children:[(0,r.jsx)(A.E,{typography:"subheader-2",overflow:"ellipsis",maxLines:1,itemProp:"name",as:"p",children:L.appName}),D?(0,r.jsx)(C,{label:null===(a=L.labels)||void 0===a?void 0:a[0],appType:L.appType}):(0,r.jsx)(A.E,{typography:"content-s",overflow:"ellipsis",maxLines:1,itemProp:"description",as:"p",children:L.shortDescription}),(0,r.jsxs)("div",{className:R().appMisc,children:[et&&(0,r.jsx)(A.E,{className:R().price,typography:"content-s",color:"core-text-link",as:"p",children:(0,r.jsx)(E.g,{price:L.price})}),ei&&(0,r.jsxs)("span",{itemScope:!0,itemType:"https://schema.org/AggregateRating",itemProp:"aggregateRating",className:R().rating,children:[(0,r.jsx)("meta",{itemProp:"ratingValue",content:"".concat(er)}),(0,r.jsx)("meta",{itemProp:"reviewCount",content:"".concat(ea)}),(0,r.jsx)(b.r,{svg:"star",size:14}),(0,r.jsx)(A.E,{typography:"content-s",color:"core-text-secondary","data-testid":"rating","data-rating":er||0,children:(0,S.X)(Number(er||0))})]})]})]})]}),I&&!!(null===(o=L.fileUrls)||void 0===o?void 0:o.length)&&(0,r.jsx)(z,{orientation:I,screens:L.fileUrls})]})})});B.displayName="AppCard"},84059:(e,t,a)=>{"use strict";a.d(t,{Rc:()=>d,ai:()=>y,ci:()=>h,oW:()=>u,uf:()=>l,wM:()=>p,y1:()=>g});var r=a(79924),i=a(60844),s=a(10282),o=a(13429),c=a(50739);let n=(0,r.eU)("idle"),l=()=>(0,i.useSetAtom)(n),p=()=>(0,i.useAtomValue)(n),d=["failed","finished"],m=(0,r.eU)(void 0),g=()=>(0,i.useSetAtom)(m),u=()=>(0,i.useAtomValue)(m),v=()=>(0,s.yF)((0,o.useCallback)(e=>e(m),[])),h=()=>{let e=v();return(0,o.useCallback)(()=>{var t,a;return null!==(a=null===(t=e())||void 0===t?void 0:t.id)&&void 0!==a?a:c.qK},[e])},y=e=>{let t=p(),a=d.includes(t),r=h();(0,o.useEffect)(()=>{a&&e(r())},[a,r,e])}},86541:(e,t,a)=>{"use strict";a.d(t,{EL:()=>s,rN:()=>i,t4:()=>r,yA:()=>o});var r=function(e){return e.PORTRAIT="PORTRAIT",e.LANDSCAPE="LANDSCAPE",e}({}),i=function(e){return e.SCREENSHOT="SCREENSHOT",e.TABLET_SCREENSHOT="TABLET_SCREENSHOT",e.TV_SCREENSHOT="TV_SCREENSHOT",e.LEGACY="image",e}({});let s=e=>"stub"in e,o=e=>"appId"in e},87124:(e,t,a)=>{"use strict";a.d(t,{r:()=>o});var r=a(84977),i=a(13429),s=a(63867);let o=e=>{let{svg:t,size:a,...o}=e,c=(0,i.useMemo)(()=>({...("number"==typeof a||"string"==typeof a)&&{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a)},..."object"==typeof a&&{...a,viewBox:"0 0 ".concat(a.width," ").concat(a.height)},"aria-hidden":"true"}),[a]);return(0,r.jsx)("svg",{...c,...o,children:(0,r.jsx)("use",{href:"".concat(s.default.src,"#").concat(t)})})}},88818:e=>{e.exports={"typography-h1":"ii9F1ljz","typography-h2":"auQQDBJg","typography-h3":"nVZAIzwV","typography-subheader-1":"J1wBWPAe","typography-subheader-2":"VV0MZngj","typography-content-l":"Kvntq2ma","typography-content-m":"_JuJuLKd","typography-content-s":"Lk4dfEwZ","typography-list":"LYFg5s_d","typography-control-l":"CCcYEyL5","typography-control-m":"wyBLWfAc","typography-control-s":"wl5RauGF","typography-caption":"Z1jo1Tun",color:"S_n__8iC","overflow-ellipsis":"JLhVhvda"}},90122:e=>{e.exports={root:"vbXUZZav"}},92534:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var r=a(84977),i=a(62854),s=a(88818),o=a.n(s);let c=e=>{let{ref:t,as:a="span",className:s,color:c="core-text-primary",typography:n,maxLines:l=1,overflow:p,style:d={},...m}=e;return"ellipsis"===p&&(d.WebkitLineClamp=l),(0,r.jsx)(a,{className:(0,i.A)(s,n&&o()["typography-".concat(n)],o().color,{[o()["overflow-ellipsis"]]:"ellipsis"===p}),style:{...d,"--color":"var(--".concat(c,")")},ref:t,...m})};c.displayName="Text";let n=c},93114:(e,t,a)=>{"use strict";a.d(t,{NW:()=>c,Sm:()=>o,aB:()=>i,nm:()=>s,rC:()=>n,rK:()=>r});let r="/catalog/img/mockicon.svg",i="/catalog/img/500.svg",s="/catalog/img/empty_search_result.svg",o="/catalog/img/empty_apps_list.svg",c="/catalog/img/empty_apps_list_filtered.svg",n="/catalog/img/note.svg"},93529:(e,t,a)=>{"use strict";a.d(t,{v:()=>y});var r=a(84977),i=a(62854),s=a(61773),o=a(27261),c=a.n(o),n=a(13429),l=a(89628),p=a(84059),d=a(12918);let m=()=>{let e=(0,p.ci)();return{logChipsClick:(0,n.useCallback)((t,a,r,i)=>{if(r){let s=t===l.u.GAMES?"gamePage.".concat(a,".click"):"appPage.".concat(a,".click");(0,d.wz)({logEvent:s,params:{app_category_name:r,vk_id:e(),app_id:i}})}},[e])}};var g=a(8752),u=a.n(g);let v=e=>"categories"===e?"applicationCategory":"applicationLabel",h={categories:"Категория",labels:"Метка",tags:"Тег",TVMode:"Тег",manualModeration:"Тег"},y=e=>{let{appType:t,data:{text:a,iconUrl:o,href:n,colorVariant:l,capitalizeText:p,type:d,testId:g},className:y,isLinkComponent:f=!0,onClick:x}=e,{logChipsClick:_}=m(),k=(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsx)(s.default,{className:u().icon,src:o,width:16,height:16,"aria-hidden":"true",alt:""}),!!h[d]&&(0,r.jsxs)("span",{className:"visually-hidden",children:[h[d],":\xa0"]}),(0,r.jsx)("span",{className:(0,i.A)(p&&u().capitalizedText,u().chipText),children:a})]});return f?(0,r.jsx)(c(),{className:(0,i.A)(u().root,u()[l],y),href:n,itemProp:v(d),onClick:()=>_(t,d,a),prefetch:!1,"data-testid":g,children:k}):(0,r.jsx)("div",{className:(0,i.A)(u().root,u()[l],{[u().clickable]:f||x},y),itemProp:v(d),"data-testid":g,onClick:()=>{x&&x(),_(t,d,a)},children:k})}},93919:(e,t,a)=>{"use strict";a.d(t,{G:()=>s});var r=a(13429),i=a(75577);let s=()=>{let{appsCategories:e,gamesCategories:t}=(0,i.WF)();return(0,r.useMemo)(()=>[...t,...e].reduce((e,t)=>(e[t.category]=t.categoryName,e[t.category.toLowerCase()]=t.categoryName,e),{}),[t,e])}},96072:(e,t,a)=>{"use strict";a.d(t,{G:()=>r});let r=(e,t)=>(null==e?void 0:e.filter(e=>0!==e.appCount).find(e=>e.category.toLowerCase()===t))||null},99426:(e,t,a)=>{"use strict";a.d(t,{b:()=>l});let r={NEW_FIRST:"new",USEFUL_FIRST:"useful",POSITIVE_FIRST:"positive",NEGATIVE_FIRST:"negative"};Object.entries(r).reduce((e,t)=>{let[a,r]=t;return e[r]=a,e},{});var i=a(89628);let s={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sch",ь:"",ы:"y",ъ:"",э:"e",ю:"yu",я:"ya"," ":"_"," ":"-","-":"-","&":"-and-"},o=e=>[...e.toLowerCase()].map(e=>e.match(/[a-z0-9]/)?e:s[e]).filter(Boolean).join("").replace(/-+/g,"-"),c=(e,t)=>[o(t),e].join("-"),n=function(e){let{page:t,category:a,query:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;return a&&(i+="".concat(a,"/")),t&&t>1&&(i+="page-".concat(t)),r&&t&&(i+="?query=".concat(r)),i},l={main:()=>"https://www.rustore.ru",root:{index:()=>"/",page:e=>n(l.root.index(),e)},app:{app:e=>e?"/app/".concat(e):"/app/:packageName"},search:{index:e=>"/search".concat(e?"?".concat(new URLSearchParams(e).toString()):""),page:e=>n("".concat(l.search.index(),"/"),e)},developer:{developer:e=>e?"/developer/".concat(e):"/developer/:devId"},recommendation:{recommendation:e=>e?"/app/".concat(e,"/recommendation"):"/app/:packageName/recommendation"},reviews:{reviews:(e,t,a)=>{if(!e)return"/app/:packageName/ReviewItems";let i=["/app/".concat(e,"/reviews")];return a&&"NEW_FIRST"!==a&&i.push(r[a]),t&&t>1&&i.push("page-".concat(t)),i.join("/")}},versions:{versions:(e,t)=>e?"/app/".concat(e,"/versions").concat(t&&t>1?"/page-"+t:""):"/app/:packageName/versions"},permissions:{permissions:e=>e?"/app/".concat(e,"/permissions"):"/app/:packageName/permissions"},games:{index:()=>"/games",page:e=>n("".concat(l.games.index(),"/"),e)},featuring:{featuring:e=>"/featuring/".concat(e)},restrictions:{restrictions:e=>e?"/app/".concat(e,"/restrictions"):"/app/:packageName/restrictions"},seoTag:{index:(e,t)=>["/tag/".concat(c(e.id,"localizedLabel"in e?e.localizedLabel||e.defaultLabel:e.label)),"number"==typeof t&&t>1?"page-".concat(t):""].filter(Boolean).join("/")},label:{index:(e,t)=>["/label/".concat(c(e.id,e.name)),"number"==typeof t&&t>1?"page-".concat(t):""].filter(Boolean).join("/")},category:{index:(e,t)=>e===i.u.GAMES?"/games/".concat(t.toLowerCase()):"/".concat(t.toLowerCase()),withSortingAndFilters:e=>{let{appType:t,category:a,paidFilter:r,sorting:s,pageNumber:o}=e;return[t===i.u.GAMES?"/games":"",a,...["all"!==r&&r,"popular"!==s&&s,o&&o>1&&"page-".concat(o)].filter(Boolean)].join("/")}},event:{index:e=>"/event/".concat(e)},tv:{index:()=>"/tv"}}},99967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/catalog/_next/static/media/favicon.62806f8a.ico",height:256,width:256,blurWidth:0,blurHeight:0}}}]);
//# sourceMappingURL=9914-c1da927ab83308a5.js.map