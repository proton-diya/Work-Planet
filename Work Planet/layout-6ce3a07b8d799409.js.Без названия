(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{4:e=>{e.exports={adContainer:"e7V0OqsU",adShown:"YpkCyJuT",ad:"Q0k9pHXY",rootContainer:"_537UIqRi",closeButton:"ToF3zrzY"}},3724:(e,t,n)=>{"use strict";n.d(t,{AuthController:()=>R});var r=n(84977),o=n(95093),a=n(13429),s=n(50739),l=n(77837),i=n(84059),c=n(12918),d=n(19134),u=n(81739),m=n(87124),f=n(22535),v=n(7901),p=n.n(v),h=n(99769);let _=()=>{var e;let t=(0,a.useRef)(null),n=(0,l._)("WEB_AUTO_LOGIN"),o=(0,i.oW)(),c=(0,i.uf)(),[v,_]=(0,a.useState)(!1),g="none"===n;return((0,a.useEffect)(()=>{!g&&(null==o?void 0:o.id)&&(u.A.getItem(f.Vd)?c("finished"):(_(!0),(0,d.bZ)(),(0,d.yH)(),u.A.setItem(f.Vd,"shown")))},[g,o,c]),(0,a.useEffect)(()=>{if(g||!v)return;let e=setTimeout(()=>_(!1),s.yR+600+1e3),n=setTimeout(()=>{c("finished");let n=t.current;n?n.classList.add(p().leaving):(clearTimeout(e),_(!1))},s.yR+300+1e3);return()=>{clearTimeout(n),clearTimeout(e)}},[g,v,c]),v&&(null==o?void 0:o.id))?(0,r.jsxs)("div",{"data-testid":"auth-snack",className:p().container,ref:t,children:[(0,r.jsx)(h.e,{className:p().avatar}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{"data-testid":"name",className:p().name,children:"Привет, ".concat(null!==(e=null==o?void 0:o.first_name)&&void 0!==e?e:null==o?void 0:o.id,"!")}),(0,r.jsxs)("div",{"data-testid":"id",className:p().id,children:["Вы вошли с помощью ",(0,r.jsx)("span",{className:"visually-hidden",children:"VK ID"}),(0,r.jsx)(m.r,{svg:"vk_id",color:"white"})]}),(0,r.jsx)("a",{href:"https://www.rustore.ru/help/legal/terms-of-use",onClick:d.dp,"data-testid":"terms-link",children:"Пользовательское соглашение RuStore"})]})]}):null};var g=n(67321),b=n(50609),w=n.n(b);function y(e){let{onSuccess:t,onError:n}=e,{AUTH_STATE:o,AUTH_UUID:s}=(0,g.HB)(),[l,i]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=new URLSearchParams({act:"autologin",redirect_uri:"".concat(document.location.origin,"/catalog/auth"),state:o,uuid:s,app_id:"51903415"});i("https://login.vk.com/?".concat(e))},[]),(0,a.useEffect)(()=>{let e=e=>{if(e.origin!==window.location.origin)return;let r=e.data;(null==r?void 0:r.source)==="auth"&&(r.errorMessage?n(r.errorMessage):r.payload&&r.payload.response?t(r.payload.response):n("unexpected empty payload from iframe"))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),l)?(0,r.jsx)("iframe",{src:l,className:w().authIframe,onLoad:e=>{try{e.currentTarget.contentDocument||n("failed to load iframe")}catch(e){console.warn(e)}}}):null}let R=()=>{let e="none"!==(0,l._)("WEB_AUTO_LOGIN"),t=(0,i.uf)(),n=(0,i.y1)(),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&(t("in_progress"),(0,o.Ri)("has_token")?fetch("/catalog/api/auth-with-token",{cache:"no-store"}).then(async e=>e.json()).then(e=>{var r;let{response:o}=e;n(o),(0,c.q_)(null!==(r=null==o?void 0:o.id)&&void 0!==r?r:s.qK),t("notify_user")}).catch(()=>m(!0)):m(!0))},[e,n,t]);let f=(0,a.useCallback)(e=>{m(!1),t("failed"),(0,d.ei)(null!=e?e:"unknown error")},[t]),v=(0,a.useCallback)(e=>{var r;m(!1),n(e),(0,c.q_)(null!==(r=e.id)&&void 0!==r?r:s.qK),t("notify_user")},[n,t]);return e?(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)(y,{onSuccess:v,onError:f}),(0,r.jsx)(_,{})]}):null}},4184:(e,t,n)=>{"use strict";n.d(t,{Scripts:()=>g});var r=n(84977),o=n(82646),a=n(36744),s=n(91039),l=n(8139),i=n(13429),c=n(95093),d=n(69670),u=n(68045),m=n(62942);let f=()=>{let e=(0,m.usePathname)();(0,i.useEffect)(()=>{if(e){var t,n;null===(t=(0,u.xv)().error)||void 0===t||t.setErrorKey("pathname",e),null===(n=(0,u.xv)().log)||void 0===n||n.log("navigate to: "+e)}},[e])};var v=n(67321),p=n(12918);let h=e=>{let{userIp:t,envConfig:n}=e,r=(0,m.useSearchParams)(),o=(0,m.usePathname)(),{YA_METRIKA_ID:a}=n;return(0,i.useEffect)(()=>{(0,d.cH)({cookieDomain:n.COOKIE_DOMAIN,userIp:(0,c.lm)()||t||"",serviceVersion:"".concat("WC-2025.70.0.121693"),appDeeplinkBaseUrl:(0,v.Un)().DEEPLINK_BASE,emitPixelEvents:e=>{var t;(0,p.dx)({eventName:"mt_pixel",params:{...e,metrikaUid:null!==(t=(0,c.Ri)(c.r4))&&void 0!==t?t:"",pageURL:document.location.href.split("?")[0]}}),(0,p.K0)({eventName:"mt_pixel",params:e})}})},[n,r,t]),(0,i.useEffect)(()=>{(null==r?void 0:r.has("_tmr_debug"))&&(0,p.HA)(),(0,c.Au)({names:[c.bM],maxWaitMs:1e4}).then(e=>{let[t]=e;t&&window.ym&&window.ym(a,"userParams",{tmr_lvid:t})})},[]),(0,i.useEffect)(()=>{window.ym&&window.ym(a,"hit",document.location.href)},[o,a]),f(),null},_=(0,s.default)((0,a.O)(()=>n.e(762).then(n.bind(n,31772)),{fallback:{default:()=>(0,r.jsx)(r.Fragment,{})}}),{loadableGenerated:{webpack:()=>[31772]},ssr:!1}),g=e=>{let{envConfig:t,userIp:n,enableLazyScripts:a,ymFeatures:s}=e,{ANALYTICS_ID:c,YA_METRIKA_ID:d}=t,[u,m]=(0,i.useState)(!1);return(0,i.useLayoutEffect)(()=>{if(!a)return;let e=setTimeout(()=>{t()},5e3),t=()=>{clearTimeout(e),document.removeEventListener("mousemove",t),document.removeEventListener("touchstart",t),(0,o.A)().then(()=>{m(!0)})};return document.addEventListener("mousemove",t),document.addEventListener("touchstart",t),()=>{clearTimeout(e),document.removeEventListener("mousemove",t),document.removeEventListener("touchstart",t)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{id:"ya-metrika",strategy:"afterInteractive",children:'\n              (function(m, e, t, r, i, k, a) {\n                m[i] = m[i] || function() {\n                  (m[i].a = m[i].a || []).push(arguments)\n                };\n                m[i].l = 1 * new Date();\n                for (var j = 0; j < document.scripts.length; j++) {\n                  if (document.scripts[j].src === r) {\n                    return;\n                  }\n                }\n                k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)\n              })\n              (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");\n              ym("'.concat(d,'", "init", {\n                clickmap: ').concat(s.clickmap,",\n                trackLinks: ").concat(s.trackLinks,",\n                accurateTrackBounce: ").concat(s.accurateTrackBounce,",\n                webvisor: ").concat(s.webvisor,',\n                ecommerce: "dataLayer",\n                defer: true\n              });\n            ')}),(u||!a)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{id:"my-tracker",strategy:"afterInteractive",children:'\n          var _tmr = window._tmr || (window._tmr = []);\n          _tmr.push({id: "'.concat(c,'", type: "pageView", timespent: true, start: (new Date()).getTime()});\n          (function (d, w, id) {\n            if (d.getElementById(id)) return;\n            var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true; ts.id = id;\n            ts.src = "https://top-fwz1.mail.ru/js/code.js";\n            ts.onload = function () {\n              var eventParams = {referrer: d.referrer};\n              _tmr.push({id: "').concat(c,'", type: "reachGoal", goal: "session_start", params: eventParams});\n            };\n            var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};\n            if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }\n          })(document, window, "topmailru-code");\n        ')}),(0,r.jsx)(_,{envConfig:t})]}),(0,r.jsx)(h,{envConfig:t,userIp:n})]})}},7901:e=>{e.exports={container:"vxR2Avqg",slideInTop:"NzXDYQV8",leaving:"laW8Ua5N",slideOutTop:"_7_L6FY4K",avatar:"dgAB9MaI",name:"z2Y6aQrj",id:"rt9u2_Mi"}},11956:(e,t,n)=>{Promise.resolve().then(n.bind(n,99967)),Promise.resolve().then(n.bind(n,63867)),Promise.resolve().then(n.bind(n,3724)),Promise.resolve().then(n.bind(n,96143)),Promise.resolve().then(n.bind(n,17763)),Promise.resolve().then(n.bind(n,78839)),Promise.resolve().then(n.bind(n,16625)),Promise.resolve().then(n.bind(n,4184)),Promise.resolve().then(n.bind(n,50370)),Promise.resolve().then(n.t.bind(n,61639,23)),Promise.resolve().then(n.t.bind(n,95048,23)),Promise.resolve().then(n.t.bind(n,50286,23)),Promise.resolve().then(n.bind(n,35230)),Promise.resolve().then(n.t.bind(n,29670,23)),Promise.resolve().then(n.t.bind(n,88818,23)),Promise.resolve().then(n.t.bind(n,98655,23)),Promise.resolve().then(n.bind(n,60844)),Promise.resolve().then(n.t.bind(n,54488,23)),Promise.resolve().then(n.bind(n,97270)),Promise.resolve().then(n.bind(n,7995)),Promise.resolve().then(n.bind(n,71577)),Promise.resolve().then(n.t.bind(n,43676,23)),Promise.resolve().then(n.bind(n,22539)),Promise.resolve().then(n.t.bind(n,93157,23))},16625:(e,t,n)=>{"use strict";n.d(t,{Providers:()=>en});var r=n(84977),o=n(82007),a=n(10252),s=n(10282),l=n(13429);let i=(0,l.memo)(e=>{let{service:t}=e;return(0,s.RH)([[a.g,t]]),null});var c=n(36744),d=n(67321),u=n(79924),m=n(60844),f=n(91039),v=n(1034),p=n(75577);let h=(0,l.memo)(e=>{let{envConfig:t,categories:n,omicron:o,children:a}=e;return(0,s.RH)([[d.d$,t],[p._Q,n],[v.v,o]]),(0,r.jsx)(r.Fragment,{children:a})});h.displayName="HydrateAtoms";var _=n(12918),g=n(8139),b=n(97488);let w={id:-1},y=e=>{let{slotId:t,setIsSSPShown:n,isAuthFinished:o,userInfo:a,sspAdsAuthEnabled:s,emitYmEvent:i,logTmrEvent:c,SSP_SCRIPT_URL:d,SSP_URL:u,omicron:m={}}=e;if((0,l.useEffect)(()=>{s&&o&&!(null==a?void 0:a.id)&&n(!1)},[o,n,s,null==a?void 0:a.id]),(0,l.useEffect)(()=>(b.wR.add(100),()=>{b.wR.remove()}),[]),!s||(null==a?void 0:a.id)&&o)return(0,r.jsx)(g.default,{id:"ssp-ads",src:d,async:!0,onLoad:()=>{var e;null===(e=window.ssp)||void 0===e||e.initSSP({userInfo:null!=a?a:w,onClose:()=>{n(!1),b.wR.remove()},logTmrEvent:c,emitYmEvent:i,slotId:t,sspUrl:u,omicron:{sspTimerEnable:m.sspTimerEnable,sspRefreshOnNavigate:m.sspRefreshOnNavigate,sspTimerDuration:m.sspTimerDuration||30,sspRefreshOnFocusTab:m.sspRefreshOnFocusTab}})}})};var R=n(80906),E=n(62854),x=n(81739),S=n(99384),T=n(68609),P=n(2796),C=n(74535),k=n(4),A=n.n(k);let I={after_scroll:{adType:"floor_ad_banner_scroll",placement:"floor_ad_banner_scroll"},on_mount:{adType:"floor_ad_banner",placement:"floor_ad_banner"}},N=e=>{let{blockId:t,appearMode:n,adFoxConfig:o}=e,a=(0,l.useRef)(document.getElementById("root")),[s,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),[f]=(0,l.useState)(x.R.getItem(P.Jm)),{closed:v}=(0,C.t)({adType:I[n].adType,platform:(null==o?void 0:o.enabled)?"adfox":"yandex"});(0,l.useEffect)(()=>{let e=a.current;if(e){let t=document.documentElement.scrollTop;e.classList.add(A().rootContainer),e.scrollTop=t}},[]),(0,l.useEffect)(()=>{let e=a.current;if(s||!e||"on_mount"===n)return;let t=()=>i(!0);if(e.scrollTop>0){t();return}let r=null,o=()=>{r&&clearTimeout(r),r=setTimeout(t,50)};return e.addEventListener("scroll",o),()=>{r&&clearTimeout(r),e.removeEventListener("scroll",o)}},[t,s,n]);let p=(s||"on_mount"===n)&&!c&&!u&&!f;(0,l.useEffect)(()=>{var e,t;p?null===(e=a.current)||void 0===e||e.classList.add(A().adShown):null===(t=a.current)||void 0===t||t.classList.remove(A().adShown)},[p,t]);let h=(0,l.useCallback)(()=>d(!0),[]),_=(0,l.useCallback)(()=>d(!1),[]);return p?(0,r.jsx)(r.Fragment,{children:(0,S.createPortal)((0,r.jsxs)("div",{className:(0,E.A)(A().adContainer,p&&A().adShown),children:[(0,r.jsx)("button",{className:A().closeButton,onClick:()=>{v(t),m(!0),x.R.setItem(P.Jm,"1")},children:(0,r.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.71967 0.71967C1.01256 0.426777 1.48744 0.426777 1.78033 0.71967L6 4.93934L10.2197 0.71967C10.5126 0.426777 10.9874 0.426777 11.2803 0.71967C11.5732 1.01256 11.5732 1.48744 11.2803 1.78033L7.06066 6L11.2803 10.2197C11.5732 10.5126 11.5732 10.9874 11.2803 11.2803C10.9874 11.5732 10.5126 11.5732 10.2197 11.2803L6 7.06066L1.78033 11.2803C1.48744 11.5732 1.01256 11.5732 0.71967 11.2803C0.426777 10.9874 0.426777 10.5126 0.71967 10.2197L4.93934 6L0.71967 1.78033C0.426777 1.48744 0.426777 1.01256 0.71967 0.71967Z",fill:"#6D7885"})})}),(0,r.jsx)(T.T,{bannerContainerClassName:A().ad,blockId:t,adType:I[n].adType,placement:I[n].placement,onRender:_,onError:h,onNoAds:h,adFoxConfig:o})]}),document.body)}):null};var j=n(3514),O=n(58930);let L="sspUserId";var D=n(77837),F=n(84059),U=n(22535);let B=e=>{let{children:t,passIfAuthWasEverDone:n=!1}=e,r="none"!==(0,D._)("WEB_AUTO_LOGIN"),o=(0,F.wM)(),[a,s]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{x.A.getItem(U.Vd)&&s(!0)},[]),!r||n&&a||F.Rc.includes(o))?t:null},M=()=>{let e=(0,D._)("WEB_YANDEX_AD_MODE"),t=(0,D._)("WEB_SSP_AD_MODE"),n=(0,D._)("WEB_SSP_AD_PARTNER"),o=(0,D._)("SSP_BANNER_REFRESH"),a=(0,D._)("WEB_SSP_AD_WITH_AUTH"),s=(0,F.oW)(),[i,c]=(0,l.useState)(!0),[u,m]=(0,l.useState)("unknown"),f=(0,d.HB)(),v=(0,D._)("ADFOX_CONFIG"),p=(0,F.wM)(),h=F.Rc.includes(p);if((0,l.useEffect)(()=>{(0,j.y_)().then(e=>{let{deviceType:t}=e;return m(t)});let e=x.A.getItem(L)||(0,O.A)();x.A.getItem(L)||x.A.setItem(L,e);try{fetch("https://ad.mail.ru/cm.gif?p=156&id=".concat(e),{mode:"no-cors"}).catch(console.warn)}catch(e){console.warn("Ad pixel fetch failed",e)}},[]),("ssp_floor_ad"===t||"ssp_floor_ad_closed"===t||"ssp_floor_ad_partner"===n)&&i){let e="ssp_floor_ad_partner"===n?"9":"1";return a?(0,r.jsx)(B,{children:(0,r.jsx)(y,{setIsSSPShown:c,slotId:e,isAuthFinished:h,logTmrEvent:_.wz,emitYmEvent:_.K0,SSP_SCRIPT_URL:f.SSP_SCRIPT_URL,SSP_URL:f.SSP_URL,sspAdsAuthEnabled:a,userInfo:s,omicron:{sspTimerEnable:o.sspTimerEnable,sspRefreshOnNavigate:o.sspRefreshOnNavigate,sspTimerDuration:o.sspTimerDuration,sspRefreshOnFocusTab:o.sspRefreshOnFocusTab}})}):(0,r.jsx)(y,{setIsSSPShown:c,slotId:e,isAuthFinished:h,logTmrEvent:_.wz,emitYmEvent:_.K0,SSP_SCRIPT_URL:f.SSP_SCRIPT_URL,SSP_URL:f.SSP_URL,sspAdsAuthEnabled:a,userInfo:s,omicron:{sspTimerEnable:o.sspTimerEnable,sspRefreshOnNavigate:o.sspRefreshOnNavigate,sspTimerDuration:o.sspTimerDuration,sspRefreshOnFocusTab:o.sspRefreshOnFocusTab}})}return"floor_ad_banner"===e||"floor_ad_banner_scroll"===e?"unknown"===u?null:"mobile"===u?(0,r.jsx)(N,{adFoxConfig:v,blockId:"floor_ad_banner"===e?f.YANDEX_ADS_FLOOR_AD_BANNER_ID:f.YANDEX_ADS_FLOOR_AD_BANNER_SCROLL_ID,appearMode:"floor_ad_banner"===e?"on_mount":"after_scroll"}):(0,r.jsx)(R.H,{mode:"floor_ad_closed",env:f,adFoxConfig:v}):"floor_ad"===e||"floor_ad_closed"===e||"floor_ad_closed_copy"===e?(0,r.jsx)(R.H,{mode:e,env:f,adFoxConfig:v}):null};var H=n(23889),V=n(82750);let W=e=>{let{children:t}=e,{STATS_URL:n}=(0,d.HB)(),o=(0,V.r)(),a=(0,F.ci)();return(0,r.jsx)(H.sl,{statsUrl:n,getActiveAppPackageName:o,getUserVkId:a,logTmrEvent:_.wz,emitYmEvent:_.K0,children:t})};function z(){return(0,l.useEffect)(()=>{if(!window.MutationObserver)return;let e=document.documentElement,t=new MutationObserver(()=>{let t=e.style.paddingRight;document.body.style.setProperty("--html-padding-right",t||"0px")});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[]),null}var J=n(95093),Y=n(62942),q=n(66412);let G=(e,t)=>e&&0!==e.size?Object.entries(t).reduce((t,n)=>{let[r,{value:{is:o,fallback:a}}]=n,s=e.get(r);if(!s)return t;if("boolean"==typeof a)["true","false"].includes(s.toLowerCase())?t[r]="true"===s.toLowerCase():console.warn("Incorrect type of config override for key ".concat(r,", expected boolean"),s);else if("string"==typeof a)o(s)?t[r]=s:console.warn("Incorrect string union value provided for key ".concat(r));else if("number"==typeof a){let e=Number.parseInt(s);isNaN(e)?console.warn("Incorrect numeric value provided for key ".concat(r)):t[r]=e}else if("object"==typeof a)try{let e=JSON.parse(s);o(e)?t[r]=e:console.warn("Object failed validation for ".concat(r),e)}catch(e){console.warn("Failed to parse ".concat(r," = ").concat(s))}else console.warn("Unsupported type of config override for key ".concat(r),typeof a);return t},{}):null,K=e=>{let{omicronResponse:t,searchParams:n,schema:r}=e,o=G(n,r);o&&Object.keys(o).length&&(console.warn("Patching omicron ab config: ",o),t.config={...t.config,...o})},X=e=>{e.segments&&x.A.setItem("omicronParams",JSON.stringify(e.segments));let t=(0,J.Ri)(J.a8);t&&x.A.setItem("userId",t)},Q=e=>{let{omicron:t}=e,n=(0,m.useSetAtom)(v.w),r=(0,Y.useSearchParams)();return(0,l.useEffect)(()=>{let e={...t,config:{...t.config}};(null==r?void 0:r.has("_ab_debug"))&&console.info("Got ab config from server-side: "+JSON.stringify(t,void 0,2)),e.writeOidCookie&&e.oid&&(0,J.TV)(J.a8,e.oid,{domain:(0,d.Un)().COOKIE_DOMAIN,secure:!0,httpOnly:!1,sameSite:"none",expires:3650}),X(e),K({searchParams:r,schema:q.d,omicronResponse:e}),n(e)},[]),null},Z=()=>{let e=(0,Y.usePathname)(),t=(0,F.wM)();return(0,l.useEffect)(()=>{F.Rc.includes(t)&&(0,_.wz)({logEvent:"webVitrina.view"})},[e,t]),null},$=(0,f.default)((0,c.O)(()=>Promise.all([n.e(694),n.e(5550),n.e(51),n.e(1120),n.e(2317),n.e(8268)]).then(n.bind(n,18781)),{fallback:{default:()=>(0,r.jsx)(r.Fragment,{})}}),{loadableGenerated:{webpack:()=>[18781]},ssr:!1}),ee=(0,f.default)(async()=>n.e(8430).then(n.bind(n,49001)).catch(e=>(console.error("Failed to load inp chunk",e),()=>null)),{loadableGenerated:{webpack:()=>[49001]},ssr:!1}),et=()=>{let{current:e}=(0,l.useRef)((0,u.y$)());return(0,d._P)(e),e},en=e=>{let{children:t,envConfig:n,categories:a,omicron:s}=e,c=et(),d=(0,l.useMemo)(()=>{var e,t;return{appsCategories:null!==(e=null==a?void 0:a.content)&&void 0!==e?e:[],gamesCategories:null!==(t=null==a?void 0:a.contentGames)&&void 0!==t?t:[]}},[a]);return(0,r.jsx)(m.Provider,{store:c,children:(0,r.jsxs)(h,{envConfig:n,categories:d,omicron:s,children:[(0,r.jsx)(i,{service:"catalog"}),(0,r.jsxs)(W,{children:[(0,r.jsx)(z,{}),(0,r.jsx)(Q,{omicron:s}),(0,r.jsx)(o.b,{allowBypassCaptcha:"true"===n.ALLOW_BYPASS_CAPTCHA,vkInitEndpoint:"/catalog/api/vk-captcha-init",logAnalyticsEvent:_.wz,children:t}),(0,r.jsx)(M,{}),(0,r.jsx)(Z,{}),(0,r.jsx)($,{}),s.config.INP_REPORTING_THRESHOLD_MS>0&&(0,r.jsx)(ee,{})]})]})})}},17763:(e,t,n)=>{"use strict";n.d(t,{StrapiHeaderWithRouter:()=>l});var r=n(84977),o=n(62942),a=n(13429),s=n(96143);let l=e=>{let t=(0,o.useRouter)(),n=(0,a.useCallback)((e,n)=>{let r="/catalog",{href:o}=e;if(null==o?void 0:o.includes(r)){n.preventDefault();let e=o.split(r)[1]||"/";t.push(e)}},[t]);return(0,r.jsx)(s.StrapiHeader,{...e,handleLinkClick:n})}},22535:(e,t,n)=>{"use strict";n.d(t,{Vd:()=>r});let r="authShown"},29670:e=>{e.exports={transparent:"mvMyJD8a",color:"Q_8seuPA",secondaryColor:"wS7t6XcQ",hiddenColor:"X_Ns5_UN",hiddenBgColor:"_1P5sOHFd",bgColor:"s4h90JTd"}},37100:e=>{e.exports={catalog:"T81MbHo6",common:"Vzuy_J9w",column:"_oOrN1Gv"}},37827:(e,t,n)=>{"use strict";n.d(t,{Nf:()=>c,QC:()=>d,qh:()=>i});let r="data-scroll-target",o="".concat(r,"-event-name"),a="".concat(r,"-threshold"),s="".concat(r,"-depth"),l="".concat(r,"-event-additional-data"),i=()=>Array.from(document.querySelectorAll("div[".concat(r,"]"))),c=e=>{var t,n;let{dataset:r}=e,o=r.scrollTargetEventName,a=r.scrollTargetDepth,s=null!==(t=r.scrollTargetEventAdditionalData)&&void 0!==t?t:"";if(!o||!a)return null;let l=+(null!==(n=r.scrollTargetThreshold)&&void 0!==n?n:1);return isNaN(l)&&(l=1),{eventName:o,scrollDepth:a,threshold:l,additionalLogData:s}},d=e=>({["".concat(r)]:"true",["".concat(o)]:e.eventName,["".concat(s)]:e.scrollDepth,..."number"==typeof e.threshold&&{["".concat(a)]:"".concat(e.threshold)},..."string"==typeof e.additionalLogData&&{["".concat(l)]:"".concat(e.additionalLogData)}})},50286:()=>{},50370:(e,t,n)=>{"use strict";n.d(t,{ScrollTargetObserver:()=>c});var r=n(37827),o=n(62942),a=n(13429),s=n(12918);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof e||!e)return t;try{return JSON.parse(e)}catch(e){return console.error(e),t}},i=(e,t,n)=>{let r=l(n);(0,s.wz)({logEvent:e,params:{scrollDepth:t,...r}})},c=()=>{let e=(0,o.usePathname)();return(0,a.useEffect)(()=>{let e=(0,r.qh)();if(!e.length)return;let t=new Set,n=e.map(e=>{var n,o;let a=(0,r.Nf)(e);if(!a)return;let{eventName:s,scrollDepth:l,threshold:c,additionalLogData:d}=a;if(!(null===(n=window)||void 0===n?void 0:n.IntersectionObserver)||!(null===(o=window)||void 0===o?void 0:o.MutationObserver))return;let u=new IntersectionObserver(e=>{e[0].isIntersecting&&!t.has(l)&&(t.add(l),i(s,l,d))},{threshold:c}),m=()=>{var t;return null!==(t=e.firstElementChild)&&void 0!==t?t:e},f=m();u.observe(f);let v=new MutationObserver(()=>{let e=m();f!==e&&(u.unobserve(f),u.observe(e),f=e)});return v.observe(e,{childList:!0}),()=>{u.disconnect(),v.disconnect()}});return()=>{n.forEach(e=>{e&&e()})}},[e]),null}},50609:e=>{e.exports={authIframe:"_3asVJUvn"}},54488:e=>{e.exports={style:{fontFamily:"'vkFont', 'vkFont Fallback', arial, system-ui, sans-serif"},className:"hCKQfUHr",variable:"DLOPgVnq"}},61639:e=>{e.exports={layout:"YU7iNhGm",starWrapper:"T9nXRR91",starRedesign:"BzjMd7T0"}},69670:(e,t,n)=>{"use strict";n.d(t,{$O:()=>s,Ty:()=>h,cH:()=>p});var r=n(95093);let o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"[".concat(t.map(e=>e||"undefined"),"]")},a="mt_link_id",s="mt_deeplink",l="mt_creative",i="https://trk.mail.ru/c/",c="nubrn2",d=e=>{let t=["","",""];for(let r=0;r<t.length;r++){var n;t[r]=null!==(n=e.get("mt_sub".concat(r+1)))&&void 0!==n?n:""}return t},u=(e,t)=>{let n=new URLSearchParams(e),c=n.get(a),u=(0,r.Ri)(r.I_);return n.delete("rsm"),n.delete(a),n.append("mt_no_redirect","1"),u&&n.append(s,t(u)),n.append(l,o((0,r.Ri)(r.r4),(0,r.Ri)(r.bM),(0,r.Ri)(r.a8))),{src:"".concat(i).concat(c,"?").concat(decodeURIComponent(n.toString())),subs:d(n)}},m=e=>{let t=new URL("".concat(i).concat(c));t.searchParams.append("mt_no_redirect","1");let n=(0,r.Ri)(r.FA);n&&t.searchParams.append("mt_sub1",n.split("?")[0]);let a=(0,r.Ri)(r.r4);a&&t.searchParams.append("mt_sub2",a);let s=(0,r.Ri)(r.bM);s&&t.searchParams.append("mt_sub3",s);let u=(0,r.Ri)(r.I_);return u&&t.searchParams.append("mt_deeplink",e(u)),t.searchParams.append(l,o(a,s,(0,r.Ri)(r.a8))),{src:decodeURIComponent(t.href),subs:d(t.searchParams)}},f=(e,t)=>e&&t&&!e.includes(t),v=e=>{var t;let n=new URLSearchParams(document.location.search),o="1"===n.get("rsm"),s=n.has(a);o&&s&&(0,r.TV)(r.V6,n.toString(),e);let l=(0,r.Ri)(r.r_),i=(0,r.Ri)(r.FA);i&&!l&&((0,r.TV)(r.FA,i,{domain:e,expires:90}),(0,r.TV)(r.r_,"true",{domain:e,expires:90})),f(null===(t=document)||void 0===t?void 0:t.referrer,e)&&((0,r.TV)(r.FA,encodeURIComponent(document.referrer.split("?")[0]),{domain:e,expires:90}),(0,r.TV)(r.r_,"true",{domain:e,expires:90}))},p=async e=>{let{cookieDomain:t,userIp:n,serviceVersion:o,appDeeplinkBaseUrl:s,emitPixelEvents:l}=e;if("undefined"==typeof document||(v(t),await (0,r.Au)({names:[r.r4,r.bM,r.a8]}),document.getElementById("pixel")))return;let i=document.createElement("img");i.id="pixel",i.width=1,i.height=1,i.alt="",i.style.display="none";let d=(0,r.Ri)(r.V6),f=new URLSearchParams(null!=d?d:""),p=e=>[s,"app",e].join("/"),h=f.has(a)?f.get(a):c,{src:_,subs:g}=f.has(a)?u(f,p):m(p);i.src=_,document.getElementsByTagName("body")[0].appendChild(i),l({mt_link_id:h,ip_address:n,...g.reduce((e,t,n)=>(e["mt_sub".concat(n+1)]=null!=t?t:"",e),{}),service_version:null!=o?o:""})},h=(e,t)=>{let n=document.getElementById("pixel");if(!(null==n?void 0:n.src))return;let r=new URL(n.src);r.searchParams.set(e,t),n.src=r.toString()}},78839:(e,t,n)=>{"use strict";n.d(t,{NavigationEvents:()=>i});var r=n(62942),o=n(13429),a=n(55015),s=n(12918);let l=()=>{let e=(0,a.e)(),t=(null==e?void 0:e.category)||"";return{logScrollDownScroll:e=>{(0,s.wz)({logEvent:"scrollDown.scroll",params:{app_category_name:t,scrollDepth:e}})}}},i=()=>{let e=(0,r.usePathname)(),{logScrollDownScroll:t}=l();return(0,o.useEffect)(()=>{let e=document.documentElement.scrollTop;e>0&&t(e)},[e]),null}},80906:(e,t,n)=>{"use strict";n.d(t,{T:()=>w.T,H:()=>b});var r=n(84977),o=n(2796),a=n(81739),s=n(13429),l=n(87495),i=n(30601),c=n(91884),d=n(97488),u=n(84104),m=n(27911);let f="floor_ad",v=e=>{let{mode:t,adFoxConfig:n}=e,[v]=(0,s.useState)(()=>a.R.getItem(o.Jm)),p="floor_ad"===t||!v,h="loaded"===(0,m.v)("adfox",p),{callbacksFactory:_,getRefreshNumber:g}=(0,i.C)({containerId:f,isFloorAd:!0,enabled:p,code:o.Ch,config:n.autorefresh}),b=(0,l.s)({adType:t,position:void 0}),w=(0,c.J)({getRefreshNumber:g});return((0,s.useEffect)(()=>{var e,t;if(!p||!h)return;let n=null===(e=window.Ya)||void 0===e?void 0:e.adfoxCode;if(!n)return;let r=n.getPlatform(),s=o.Ch[r],{callbacks:l,cleanup:i}=(0,u.X)({containerId:f,code:s,factories:[b,w,_],callback:{onRender:e=>{var t;d.wR.add(null===(t=e.floorAdSize)||void 0===t?void 0:t.height)},onClose:()=>{var e,t;a.R.setItem(o.Jm,"1"),d.wR.remove(),null===(t=window.Ya)||void 0===t||null===(e=t.adfoxCode)||void 0===e||e.destroy(f)}}});return null===(t=window.yaContextCb)||void 0===t||t.push(()=>{n.create({...s,containerId:f,...l})}),i},[h]),p)?(0,r.jsx)("div",{id:f}):null};var p=n(74535),h=n(64591),_=function(e){return e.HAS_ADS="1",e.NO_ADS="2",e}(_||{});let g=e=>{let{env:t,mode:n}=e,{YANDEX_ADS_FLOOR_AD_DESKTOP_ID:r,YANDEX_ADS_FLOOR_AD_MOBILE_ID:l,YANDEX_ADS_FLOOR_AD_ALT_DESKTOP_ID:i,YANDEX_ADS_FLOOR_AD_ALT_MOBILE_ID:c}=t,u="floor_ad_closed_copy"==n?i:r,f="floor_ad_closed_copy"===n?c:l,[v]=(0,s.useState)(()=>a.R.getItem(o.Jm)),[_,g]=(0,s.useState)(!1),b=(0,p.t)({platform:"yandex",adType:n}),w=!_&&("floor_ad"===n||!v),y=(0,s.useRef)(!1),R=(0,s.useRef)(0),E=(0,m.v)("yandex",w);(0,s.useEffect)(()=>{"failed"===E&&b.blocked(window.matchMedia("(pointer: coarse)").matches?f:u)},[E]);let x=(0,s.useCallback)(e=>{if(R.current&&Date.now()-R.current<o.aC/4){(0,d.Rm)("skipping floor_ad refresh since it was recently");return}R.current=Date.now(),window.yaContextCb=window.yaContextCb||[],window.yaContextCb.push(()=>{let t=(0,d.PO)(),n=t.getPlatform(),r="desktop"===n?u:f,s=null;e&&b.requested(r),t.render({blockId:r,type:"floorAd",platform:n,onRender:t=>{var n;if((0,d.Rm)("rendered",t),e){if(b.gotResponse(r,0,{AdResponse:"1"}),b.rendered(r),!y.current&&(y.current=!0,b.shown(r),t.stickyAdNode)){let e=t.stickyAdNode;s=(0,d.yn)(e,()=>{(0,d.Rm)("clicked"),b.clicked(r)})}d.wR.add(null===(n=t.floorAdSize)||void 0===n?void 0:n.height)}},onError:e=>{(0,d.Rm)("error",e)},onClose:()=>{(0,d.Rm)("closed"),g(!0),d.wR.remove(),a.R.setItem(o.Jm,"1"),b.closed(r),s&&s()}},()=>{(0,d.Rm)("fallback called"),e&&(b.gotResponse(r,0,{AdResponse:"2"}),b.nothingToShow(r))})})},[]);(0,s.useEffect)(()=>{if(w)return x(!0),()=>{d.wR.remove()}},[]);let S=(0,h.k)((0,s.useCallback)(()=>{y.current&&w&&((0,d.Rm)("refreshing floor_ad on window focus"),x(!1))},[x,w]));return(0,s.useEffect)(()=>{if(!S||!w)return;let e=setInterval(()=>{y.current&&((0,d.Rm)("refreshing floor_ad on timer"),x(!1))},o.aC);return()=>clearInterval(e)},[S,w,x]),null},b=e=>{var t;return(null===(t=e.adFoxConfig)||void 0===t?void 0:t.enabled)?(0,r.jsx)(v,{...e}):(0,r.jsx)(g,{...e})};var w=n(68609)},82646:(e,t,n)=>{"use strict";function r(){return new Promise(e=>{if("function"!=typeof requestAnimationFrame){setTimeout(e,0);return}let t=setTimeout(e,10);requestAnimationFrame(()=>{clearTimeout(t),setTimeout(e,0)})})}n.d(t,{A:()=>r})},82750:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(62942),o=n(13429);let a=(e,t)=>(null==e?void 0:e.includes("/app/"))&&"string"==typeof(null==t?void 0:t.id)?t.id:null,s=()=>{let e=(0,r.usePathname)(),t=(0,r.useParams)(),n=(0,o.useRef)(a(e,t));return(0,o.useEffect)(()=>{n.current=a(e,t)},[e,t]),(0,o.useCallback)(()=>n.current,[])}},95048:e=>{e.exports={starIcon:"_rIR_K_1"}},97270:(e,t,n)=>{"use strict";n.d(t,{DesignGridDevOverlay:()=>u});var r=n(84977),o=n(13429),a=n(99384),s=n(80527),l=n(37100),i=n.n(l);let c=(e,t)=>Array(e).fill(0).map((e,n)=>t(n)),d=["none","catalog","common"],u=()=>{let[e,t]=(0,o.useState)("none");return((0,s.o)("G",()=>{let n=(d.indexOf(e)+1)%d.length;t(d[n])}),"none"===e)?null:"catalog"===e?(0,a.createPortal)((0,r.jsx)("div",{className:i().catalog,children:c(3,e=>(0,r.jsx)("div",{className:i().column},e))}),document.body):(0,a.createPortal)((0,r.jsx)("div",{className:i().common,children:c(12,e=>(0,r.jsx)("div",{className:i().column},e))}),document.body)}},98655:e=>{e.exports={wrapper:"_8qMIBPTI",blocksWrapper:"CNgstZhQ",icon:"_8_8SrNLj",header:"EUsR0B8W"}},99967:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r={src:"/catalog/_next/static/media/favicon.62806f8a.ico",height:256,width:256,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[7696,2439,8461,2678,51,9961,1121,844,3970,6567,1938,8108,2918,7773,7014,587,5044,7358],()=>t(11956)),_N_E=e.O()}]);
//# sourceMappingURL=layout-6ce3a07b8d799409.js.map