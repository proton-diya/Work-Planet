"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{2241:(_,e,n)=>{n.d(e,{j:()=>A,l:()=>E});var l=n(81739);let A=()=>{try{let _=l.A.getItem("omicronParams");if(!_)return{};return JSON.parse(_)}catch(_){return console.error("Error parsing omicronParams:",_),{}}},E=()=>{try{return l.A.getItem("userId")||""}catch(_){return console.error("Error accessing localStorage:",_),""}}},12918:(_,e,n)=>{let l;n.d(e,{HA:()=>v,K0:()=>d,aN:()=>S,dx:()=>L,q_:()=>i,wz:()=>c,yp:()=>s});var A=n(95093),E=n(67321),t=n(38158),D=n(50739),o=n(89628),r=n(2241);let R=D.qK,i=_=>R=_,S=_=>l=_,I=()=>{if(!(null==l?void 0:l.deviceSpecifics))return null;let{TV:_,MOBILE:e}=(null==l?void 0:l.deviceSpecifics)||{};return _&&!e?"tv":e?"android":null},a=_=>{try{let e=(0,E.Un)();_(e)}catch(_){}},N={event_name:void 0,screen_name:void 0},u=!1,v=()=>{u=!0},c=_=>{var e,n;let{logEvent:l,params:E={},type:D="reachGoal"}=_;window._tmr||(window._tmr=[]);let o=new Date,i=(0,r.j)(),S=(0,r.l)(),v=(0,A.Ri)(A.r4),c={id:(0,t.Ak)(),date:T(o),time:P(o),event_name:l,fingerprint:v,kid_mode:null,previous_event:N.event_name,previous_screen:N.screen_name,user_id:S,product:I(),screen_name:null===(e=null!==(n=document.location.href.split("?")[1])&&void 0!==n?n:null)||void 0===e?void 0:e.substring(0,255),session_id:null,tab_name:null,type:null,pageURL:document.location.href.split("?")[0],vk_id:R,...i};a(_=>{let{ANALYTICS_ID:e}=_;u&&console.log("TMR: log event = ".concat(l,", params = ").concat(JSON.stringify({...c,...E}))),window._tmr.push({id:e,type:D,goal:l,params:{...c,...E}})}),N.event_name=c.event_name,N.screen_name=c.screen_name},L=_=>{let{eventName:e,params:n={}}=_;if(!window._tmr)return;let l=new Date,A={id:(0,t.Ak)(),product:"UserProfile",event_timestamp:"".concat(T(l)," ").concat(P(l))};a(_=>{let{ANALYTICS_ID:l}=_;u&&console.log("TMR: emit event = ".concat(e,", params = ").concat(JSON.stringify({...A,...n}))),window._tmr.push({id:l,type:"reachGoal",goal:e,params:{...A,...n}})})},d=_=>{let{eventName:e,params:n={}}=_,l=new Date;if(!window.ym)return!1;a(_=>{let{YA_METRIKA_ID:A}=_;window.ym(A,"reachGoal",e,{product:"UserProfile",event_timestamp:"".concat(T(l)," ").concat(P(l)),...n})})},O={[o.u.GAMES]:"Игры",[o.u.MAIN]:"Приложения"},s=_=>{var e,n,l,E;let{eventName:t,app:D}=_;window.dataLayer=window.dataLayer||[];let o=null,r=null;if("select_item"===t)o=_.placement.listName,r=_.placement.position+1,a(_=>{let{COOKIE_DOMAIN:e}=_;(0,A.n0)({packageName:D.packageName,listPosition:r||0,listName:o||""},e)});else{let _=(0,A.ZL)();_&&_.packageName===D.packageName&&(o=_.listName,r=_.listPosition)}window.dataLayer.push({event:t,ecommerce:{items:[{item_name:D.packageName,item_id:null!==(e=D.appId)&&void 0!==e?e:null,price:null!==(n=D.price)&&void 0!==n?n:null,item_brand:null!==(l=D.developer)&&void 0!==l?l:null,item_category:D.type?O[D.type]:null,item_category_2:null!==(E=D.category)&&void 0!==E?E:null,item_list_name:null!=o?o:null,index:null!=r?r:null,quantity:1}]}})},T=_=>{let e=_.getFullYear(),n=("0"+(_.getMonth()+1)).slice(-2),l=("0"+_.getDate()).slice(-2);return"".concat(e,"-").concat(n,"-").concat(l)},P=_=>{let e=("0"+_.getHours()).slice(-2),n=("0"+_.getMinutes()).slice(-2),l=("0"+_.getSeconds()).slice(-2);return"".concat(e,":").concat(n,":").concat(l)}},67321:(_,e,n)=>{n.d(e,{HB:()=>_A,SI:()=>_D,Un:()=>_o,_P:()=>_E,d$:()=>_l});var l,A,E,t,D,o,r,R,i,S,I,a,N,u,v,c,L,d,O,s,T,P,m,U,Y,p,B,C,X,g,M,w,V,f,F,K,h,y,G,H,k,W,b,j,q,J,x,Z,z,$,Q=n(79924),__=n(60844),_e=n(40459);let _n=null,_l=(0,Q.eU)({ANALYTICS_ID:"",API_URL:"",COOKIE_DOMAIN:"",DEEPLINK_URL:"",DEEPLINK_BASE:"",INSTRUCTION_LINK:"",LOW_SECRET:"",NODE_ENV:"",OMICRON_APP_ID:"",OMICRON_URL:"",SERVER_OMICRON_URL:"",SERVER_SIDE_URL:"",SERVER_FEEDBACKS_URL:"",SERVER_STRAPI_URL:"",STAGE:"",STRAPI_DATA_CACHE_TIME_MS:0,YA_METRIKA_ID:"",YANDEX_ADS_BANNER_ID:"",YANDEX_ADS_FLOOR_AD_MOBILE_ID:"",YANDEX_ADS_FLOOR_AD_DESKTOP_ID:"",YANDEX_ADS_FLOOR_AD_ALT_MOBILE_ID:"",YANDEX_ADS_FLOOR_AD_ALT_DESKTOP_ID:"",YANDEX_ADS_FLOOR_AD_BANNER_ID:"",YANDEX_ADS_FLOOR_AD_BANNER_SCROLL_ID:"",YANDEX_ADS_APPS_LIST_BANNER_ID:"",YANDEX_ADS_LEFT_SIDEBAR_BANNER_ID:"",YANDEX_ADS_RIGHT_SIDEBAR_BANNER_ID:"",YANDEX_ADS_NEW_APP_CARD_BANNER_ID:"",AUTH_STATE:"",AUTH_UUID:"",AUTH_SERVER_ID:"",SERVER_APP_SELECTION_URL:"",HIDDEN_APP_SELECTION_ID:"",ALLOW_BYPASS_CAPTCHA:"",IMAGE_PROXY_KEY:"",IMAGE_PROXY_SALT:"",IMAGE_PROXY_URL:"",SSP_URL:"",SSP_SCRIPT_URL:"",SERVER_EVENTS_URL:"",SERVER_APP_ATTRIBUTES_URL:"",STATS_URL:"",HIDDEN_DEVELOPER_PUBLIC_IDS:[],INS_KEY:"",INS_FEED:"",WEB_GATEWAY_URL:"",SERVER_WEB_GATEWAY_URL:""}),_A=()=>(0,__.useAtomValue)(_l),_E=_=>{_n=_},_t={ANALYTICS_ID:null!==(l=_e.env.ANALYTICS_ID)&&void 0!==l?l:"",API_URL:null!==(A=_e.env.API_URL)&&void 0!==A?A:"",COOKIE_DOMAIN:null!==(E=_e.env.COOKIE_DOMAIN)&&void 0!==E?E:"",DEEPLINK_URL:null!==(t=_e.env.DEEPLINK_URL)&&void 0!==t?t:"",DEEPLINK_BASE:null!==(D=_e.env.DEEPLINK_BASE)&&void 0!==D?D:"https://apps.rustore.ru",INSTRUCTION_LINK:null!==(o=_e.env.INSTRUCTION_LINK)&&void 0!==o?o:"",LOW_SECRET:null!==(r=_e.env.LOW_SECRET)&&void 0!==r?r:"",NODE_ENV:"production",OMICRON_APP_ID:null!==(R=_e.env.OMICRON_APP_ID)&&void 0!==R?R:"",OMICRON_URL:null!==(i=_e.env.OMICRON_URL)&&void 0!==i?i:"",SERVER_OMICRON_URL:null!==(S=_e.env.SERVER_OMICRON_URL)&&void 0!==S?S:"",SERVER_SIDE_URL:null!==(I=_e.env.SERVER_SIDE_URL)&&void 0!==I?I:"",SERVER_FEEDBACKS_URL:null!==(a=_e.env.SERVER_FEEDBACKS_URL)&&void 0!==a?a:"",SERVER_STRAPI_URL:null!==(N=_e.env.SERVER_STRAPI_URL)&&void 0!==N?N:"",STAGE:null!==(u=_e.env.STAGE)&&void 0!==u?u:"",STRAPI_DATA_CACHE_TIME_MS:parseInt(null!==(v=_e.env.STRAPI_DATA_CACHE_TIME_MS)&&void 0!==v?v:"0"),YA_METRIKA_ID:null!==(c=_e.env.ANALYTICS_YA_METRIKA_ID)&&void 0!==c?c:"",YANDEX_ADS_BANNER_ID:null!==(L=_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==L?L:"",YANDEX_ADS_FLOOR_AD_MOBILE_ID:null!==(d=_e.env.YANDEX_ADS_FLOOR_AD_MOBILE_ID)&&void 0!==d?d:"",YANDEX_ADS_FLOOR_AD_DESKTOP_ID:null!==(O=_e.env.YANDEX_ADS_FLOOR_AD_DESKTOP_ID)&&void 0!==O?O:"",YANDEX_ADS_FLOOR_AD_ALT_MOBILE_ID:null!==(T=null!==(s=_e.env.YANDEX_ADS_FLOOR_AD_ALT_MOBILE_ID)&&void 0!==s?s:_e.env.YANDEX_ADS_FLOOR_AD_MOBILE_ID)&&void 0!==T?T:"",YANDEX_ADS_FLOOR_AD_ALT_DESKTOP_ID:null!==(m=null!==(P=_e.env.YANDEX_ADS_FLOOR_AD_ALT_DESKTOP_ID)&&void 0!==P?P:_e.env.YANDEX_ADS_FLOOR_AD_DESKTOP_ID)&&void 0!==m?m:"",YANDEX_ADS_FLOOR_AD_BANNER_ID:null!==(Y=null!==(U=_e.env.YANDEX_ADS_FLOOR_AD_BANNER_ID)&&void 0!==U?U:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==Y?Y:"",YANDEX_ADS_FLOOR_AD_BANNER_SCROLL_ID:null!==(C=null!==(B=null!==(p=_e.env.YANDEX_ADS_FLOOR_AD_BANNER_SCROLL_ID)&&void 0!==p?p:_e.env.YANDEX_ADS_FLOOR_AD_BANNER_ID)&&void 0!==B?B:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==C?C:"",YANDEX_ADS_APPS_LIST_BANNER_ID:null!==(g=null!==(X=_e.env.YANDEX_ADS_APPS_LIST_BANNER_ID)&&void 0!==X?X:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==g?g:"",YANDEX_ADS_LEFT_SIDEBAR_BANNER_ID:null!==(w=null!==(M=_e.env.YANDEX_ADS_LEFT_SIDEBAR_BANNER_ID)&&void 0!==M?M:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==w?w:"",YANDEX_ADS_RIGHT_SIDEBAR_BANNER_ID:null!==(f=null!==(V=_e.env.YANDEX_ADS_RIGHT_SIDEBAR_BANNER_ID)&&void 0!==V?V:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==f?f:"",YANDEX_ADS_NEW_APP_CARD_BANNER_ID:null!==(K=null!==(F=_e.env.YANDEX_ADS_NEW_APP_CARD_BANNER_ID)&&void 0!==F?F:_e.env.YANDEX_ADS_BANNER_ID)&&void 0!==K?K:"",AUTH_STATE:null!==(h=_e.env.AUTH_STATE)&&void 0!==h?h:"",AUTH_UUID:null!==(y=_e.env.AUTH_UUID)&&void 0!==y?y:"",AUTH_SERVER_ID:null!==(G=_e.env.AUTH_SERVER_ID)&&void 0!==G?G:"",SERVER_APP_SELECTION_URL:null!==(H=_e.env.SERVER_APP_SELECTION_URL)&&void 0!==H?H:"",SERVER_APP_ATTRIBUTES_URL:null!==(k=_e.env.SERVER_APP_ATTRIBUTES_URL)&&void 0!==k?k:"",HIDDEN_APP_SELECTION_ID:null!==(W=_e.env.HIDDEN_APP_SELECTION_ID)&&void 0!==W?W:"",ALLOW_BYPASS_CAPTCHA:null!==(b=_e.env.ALLOW_BYPASS_CAPTCHA)&&void 0!==b?b:"",IMAGE_PROXY_KEY:null!==(j=_e.env.IMAGE_PROXY_KEY)&&void 0!==j?j:"",IMAGE_PROXY_SALT:null!==(q=_e.env.IMAGE_PROXY_SALT)&&void 0!==q?q:"",IMAGE_PROXY_URL:null!==(J=_e.env.IMAGE_PROXY_URL)&&void 0!==J?J:"",SSP_URL:null!==(x=_e.env.SSP_URL)&&void 0!==x?x:"https://cheater.dev13.rustore.devmail.ru/v1",SSP_SCRIPT_URL:null!==(Z=_e.env.SSP_SCRIPT_URL)&&void 0!==Z?Z:"",SERVER_EVENTS_URL:null!==(z=_e.env.SERVER_EVENTS_URL)&&void 0!==z?z:"",STATS_URL:null!==($=_e.env.STATS_URL)&&void 0!==$?$:"",HIDDEN_DEVELOPER_PUBLIC_IDS:(_e.env.HIDDEN_DEVELOPER_PUBLIC_IDS||"").split(";"),INS_KEY:_e.env.INS_KEY||"",INS_FEED:_e.env.INS_FEED||"default",WEB_GATEWAY_URL:_e.env.WEB_GATEWAY_URL||"",SERVER_WEB_GATEWAY_URL:_e.env.SERVER_WEB_GATEWAY_URL||""},_D=()=>{if(!_n)throw Error("getEnvConfigClientSide: no store was provided, was registerStoreForEnvVariablesAccess called?");return _n.get(_l)},_o=()=>_D()},81739:(_,e,n)=>{n.d(e,{A:()=>E,R:()=>t});var l=n(40459);let A=_=>({getItem:e=>{if(l.env.STORYBOOK)return null;try{return _().getItem(e)}catch(_){return console.error("getItem failed for key ".concat(e),_),null}},setItem:(e,n)=>{if(!l.env.STORYBOOK)try{return _().setItem(e,n),!0}catch(_){return console.error("setItem failed for key ".concat(e," and value ").concat(n),_),!1}}}),E=A(()=>localStorage),t=A(()=>sessionStorage)},89628:(_,e,n)=>{n.d(e,{u:()=>l});var l=function(_){return _.MAIN="MAIN",_.GAMES="GAMES",_}({})},95093:(_,e,n)=>{n.d(e,{Au:()=>v,BY:()=>I,FA:()=>o,I_:()=>D,Ri:()=>N,TV:()=>u,V6:()=>R,ZL:()=>O,a8:()=>t,bM:()=>E,lm:()=>L,n0:()=>d,r4:()=>A,r_:()=>r,vT:()=>i});var l=n(37932);let A="_ym_uid",E="tmr_lvid",t="oid",D="bundle_id",o="mt_referrer",r="mt_referrer_expire_time",R="rsm.query",i="web_auto_download",S="ecom_app_click_data",I="featuring_with_back",a=l.A.withAttributes({path:"/",sameSite:"None",secure:!0}),N=_=>{try{var e;return null!==(e=a.get(_))&&void 0!==e?e:null}catch(e){return console.warn("getCookie{".concat(_,"}: cannot access cookies"),e),null}},u=(_,e,n)=>{try{a.set(_,e,"string"==typeof n?{domain:n}:n)}catch(e){console.warn("setCookie(".concat(_,"): cannot access cookies"),e)}},v=async _=>{let{names:e,pollingPeriodMs:n=25,maxWaitMs:l=2500}=_;return new Promise(_=>{let A=()=>{let _=a.get();return e.filter(e=>!!_[e])};try{if(A().length===e.length){_(e);return}}catch(e){console.warn("waitForCookies: cannot access cookies",e),_([]);return}let E=Date.now(),t=setInterval(()=>{let n=A(),D=Date.now()-E;(n.length===e.length||D>=l)&&(clearInterval(t),_(n))},n)})},c=_=>JSON.parse(decodeURIComponent(atob(_.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")).split("").map(function(_){return"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)}).join(""))),L=()=>{let _=N("_rcache");if(!_)return null;try{return c(_).ip}catch(_){console.error("Failed to parse",_)}return null},d=(_,e)=>{let{packageName:n,listName:l,listPosition:A}=_;u(S,[n,l,A].join("|"),e)},O=()=>{let _=N(S);if(!_)return null;let[e,n,l]=_.split("|");return{packageName:e,listName:n,listPosition:Number.parseInt(l)}}}}]);
//# sourceMappingURL=2918-e21700bea97b926d.js.map